const _0x593002=_0x13c7;(function(_0x422b42,_0x3090be){const _0x2fff96=_0x13c7,_0x19086b=_0x422b42();while(!![]){try{const _0x5ad621=parseInt(_0x2fff96(0xe5))/0x1+-parseInt(_0x2fff96(0xcc))/0x2+-parseInt(_0x2fff96(0x109))/0x3*(parseInt(_0x2fff96(0x119))/0x4)+-parseInt(_0x2fff96(0xf1))/0x5+-parseInt(_0x2fff96(0xca))/0x6*(parseInt(_0x2fff96(0xef))/0x7)+-parseInt(_0x2fff96(0xf5))/0x8+parseInt(_0x2fff96(0xf7))/0x9;if(_0x5ad621===_0x3090be)break;else _0x19086b['push'](_0x19086b['shift']());}catch(_0x51c516){_0x19086b['push'](_0x19086b['shift']());}}}(_0x3538,0xbb4c1));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js';const firebaseConfig={'apiKey':_0x593002(0x116),'authDomain':'cpprog03.firebaseapp.com','projectId':_0x593002(0xf9),'storageBucket':_0x593002(0xcb),'messagingSenderId':_0x593002(0x11a),'appId':_0x593002(0xdd)};import{getFirestore,doc,getDoc,collection,addDoc,setDoc,updateDoc,deleteDoc,deleteField,onSnapshot}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js';const app=initializeApp(firebaseConfig);firebase['initializeApp'](firebaseConfig);const db=firebase[_0x593002(0xfc)](),client=getFirestore();let deskStat=[],studeData,count,Tablecells,Late;const close_form=document[_0x593002(0xe8)]('close_form'),stid=document[_0x593002(0xe8)]('stud-id'),stname=document[_0x593002(0xe8)](_0x593002(0x102)),stsec=document['getElementById'](_0x593002(0xbe)),courseName=document[_0x593002(0xe8)](_0x593002(0x106)),save_btn=document[_0x593002(0xe8)](_0x593002(0xc8)),tname=document['getElementById'](_0x593002(0xd4));async function checkSit(){const _0x281241=_0x593002;db[_0x281241(0x117)]('COMLAB-ATTENDANCE-TABLE')[_0x281241(0xdb)](_0x2fa601=>{_0x2fa601['forEach'](_0x5a17e7=>{const _0x3dc3f7=_0x13c7;studeData=_0x5a17e7['data']();const _0x202fbc=_0x5a17e7['id'];deskStat[_0x3dc3f7(0xe4)]({...studeData,'dataID':_0x202fbc}),deskStat[_0x3dc3f7(0xfb)](_0x506b80=>{const _0x2b46ca=_0x3dc3f7;if(_0x506b80['Status']===_0x2b46ca(0xff)&&_0x506b80[_0x2b46ca(0xe3)]===_0x2b46ca(0x10d)){const _0x430b7f=document['getElementsByTagName']('td');_0x430b7f[_0x506b80[_0x2b46ca(0x118)]]['style']=_0x2b46ca(0xf8),_0x430b7f[_0x506b80[_0x2b46ca(0x118)]][_0x2b46ca(0xc2)]='<span\x20class=\x22desk\x22>'+_0x506b80[_0x2b46ca(0xf3)]+_0x2b46ca(0x105)+_0x2b46ca(0xd1);}else{if(_0x506b80[_0x2b46ca(0xfd)]===_0x2b46ca(0xff)&&_0x506b80[_0x2b46ca(0xe3)]===_0x2b46ca(0x101)){const _0x4d986d=document[_0x2b46ca(0xd3)]('td');_0x4d986d[_0x506b80[_0x2b46ca(0x118)]][_0x2b46ca(0xfe)]=_0x2b46ca(0xc6),_0x4d986d[_0x506b80[_0x2b46ca(0x118)]][_0x2b46ca(0xc2)]='<span\x20class=\x22desk\x22>'+_0x506b80[_0x2b46ca(0xf3)]+_0x2b46ca(0x105)+_0x2b46ca(0xbc);}else{const _0x10415e=document[_0x2b46ca(0xd3)]('td');_0x10415e[_0x506b80[_0x2b46ca(0x118)]][_0x2b46ca(0xfe)]=_0x2b46ca(0xc7);}}});});});}document[_0x593002(0xfa)](_0x593002(0x104),function(){const _0x36c114=_0x593002;let _0x5ebe0e=document['getElementsByTagName']('td');for(let _0x268aa0=0x0;_0x268aa0<_0x5ebe0e[_0x36c114(0x115)];_0x268aa0++){(function(_0x46e696){const _0xaaffb9=_0x36c114;_0x5ebe0e[_0x46e696][_0xaaffb9(0xfa)](_0xaaffb9(0xd5),function(){const _0x51d333=_0xaaffb9;_0x5ebe0e[_0x46e696][_0x51d333(0xc2)]!==''?alert(_0x51d333(0xdf)):(getDateHour(),Tablecells=_0x46e696,Takepc(),document[_0x51d333(0xe8)](_0x51d333(0x110))['style']=_0x51d333(0xd8));});}(_0x268aa0));}});let pcnumber=_0x593002(0xda)+Tablecells,ToDeleteDoc;function _0x3538(){const _0x41b4d1=['background-color:\x20lightgreen;','save_btn','interactive','5154lKjxrj','cpprog03.appspot.com','2733154KwHISp','not\x20Allow','openqr_btn','add','textAlign','Occupied!\x20<br>\x20BUT\x20LATE!','split','getElementsByTagName','teacher-name','click','display:flex;','readyState','display:\x20block;','Opps!\x20Its\x20look\x20like\x20your\x20too\x20late\x20to\x20take\x20this\x20attendance','B1-28_DESKTOPPCNUMBER-','onSnapshot','show','1:316552887176:web:2d8b0fc17477132873d83d','myqrcode','This\x20Pc\x20is\x20occupied!','center','pop-up-message','cp-sect-name','SchoolOnTime','push','136599iZtSbG','log','working','getElementById','reload','Your\x20input\x20data\x20is\x20Cancelled','render','display:\x20none;','target','cp-stud-id','1022YrBuiB','display:\x20flex;','3185935rgXhbd','onload','Com_Unit_Num','data','6845544wWihnO','COMLAB-ATTENDANCE-TABLE','33956316qaImDs','background-color:\x20yellow;\x20padding:10px;\x20color:\x20navy;','cpprog03','addEventListener','forEach','firestore','Status','style','Occupied','cp-stud-name','false','stud-name','background-color:\x20lightgreen;\x20padding:\x2010px;','DOMContentLoaded','</span>','course-name','complete','SOME-IS-TYPING','3LDoKdO','slice','getMinutes','pop-up-top','true','Someone\x20is\x20already\x20taking\x20this\x20unit','form-container','web-form','exists','size','display:none','value','length','AIzaSyCOB2qEHCqj4ogZdjIH4Ff-tl-StyLShOk','collection','Desk','629932jRyZpM','316552887176','cp-teacher-name','Occupied!\x20<br>\x20Ontime','classList','sect-name','display:none;','getFullYear','getDate','innerHTML','Submit\x20Successfully,\x20please\x20check\x20the\x20monitor\x20in\x20front\x20or\x20ask\x20the\x20teacher\x20if\x20its\x20reflect','remove','you-qr-result','background-color:\x20red;\x20padding:10px;'];_0x3538=function(){return _0x41b4d1;};return _0x3538();}async function Takepc(){const _0x2ce006=_0x593002,_0x5f112c=Tablecells;pcnumber=_0x2ce006(0xda)+Tablecells,ToDeleteDoc=doc(client,_0x2ce006(0x108),pcnumber),setDoc(ToDeleteDoc,{'Desk':_0x5f112c});}async function ToSaveData(){const _0x5cfe77=_0x593002,_0x3246ef=Tablecells+0x1;pcnumber=_0x5cfe77(0xda)+Tablecells,console[_0x5cfe77(0xe6)](pcnumber);var _0x235cd3=doc(client,_0x5cfe77(0xf6),pcnumber);setDoc(_0x235cd3,{'Desk':Tablecells,'Status':_0x5cfe77(0xff),'Student_ID':stid[_0x5cfe77(0x114)],'Student_Name':stname['value'],'Student_Section':stsec[_0x5cfe77(0x114)],'Student_Course':courseName[_0x5cfe77(0x114)],'Teacher_Name':tname[_0x5cfe77(0x114)],'Com_Unit_Num':_0x3246ef,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}close_form[_0x593002(0xfa)]('click',async function(){const _0x5f4b10=_0x593002;await deleteDoc(ToDeleteDoc),TypingCheckStudent(),setInterval(function(){const _0x5c8e5d=_0x13c7;location[_0x5c8e5d(0xe9)]();},0x1388),document[_0x5f4b10(0xe8)](_0x5f4b10(0x110))[_0x5f4b10(0xfe)]=_0x5f4b10(0xec);}),save_btn[_0x593002(0xfa)](_0x593002(0xd5),async function(){const _0x17161e=_0x593002;getDateHour();if(stid[_0x17161e(0x114)]===''||stname['value']===''||courseName[_0x17161e(0x114)]===''||tname['value']===''||stsec[_0x17161e(0x114)]==='')document[_0x17161e(0xe8)](_0x17161e(0xe1))[_0x17161e(0xc2)]='Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again',document[_0x17161e(0xe8)](_0x17161e(0xe1))[_0x17161e(0xfe)][_0x17161e(0xd0)]=_0x17161e(0xe0),myPopup['classList'][_0x17161e(0xcf)](_0x17161e(0xdc));else Late===_0x17161e(0xcd)?(document['getElementById']('pop-up-message')['innerHTML']='Opps!\x20Its\x20look\x20like\x20your\x20too\x20late\x20to\x20take\x20this\x20attendance',document[_0x17161e(0xe8)](_0x17161e(0xe1))[_0x17161e(0xfe)]['textAlign']=_0x17161e(0xe0),myPopup['classList']['add'](_0x17161e(0xdc))):(await deleteDoc(ToDeleteDoc),ToSaveData(),document[_0x17161e(0xe8)](_0x17161e(0x110))[_0x17161e(0xfe)]=_0x17161e(0xec),document[_0x17161e(0xe8)](_0x17161e(0x10c))[_0x17161e(0xfe)]=_0x17161e(0x113),document[_0x17161e(0xe8)]('pop-up-message')[_0x17161e(0xc2)]=_0x17161e(0xc3),document[_0x17161e(0xe8)](_0x17161e(0xe1))[_0x17161e(0xfe)][_0x17161e(0xd0)]=_0x17161e(0xe0),myPopup[_0x17161e(0xbd)][_0x17161e(0xcf)](_0x17161e(0xdc)),setInterval(function(){const _0xf36046=_0x17161e;location[_0xf36046(0xe9)]();},0x1388));});function _0x13c7(_0x14bdda,_0x1e02f6){const _0x3538f1=_0x3538();return _0x13c7=function(_0x13c7b2,_0x2800da){_0x13c7b2=_0x13c7b2-0xbc;let _0xc073f8=_0x3538f1[_0x13c7b2];return _0xc073f8;},_0x13c7(_0x14bdda,_0x1e02f6);}const cp_stid=document[_0x593002(0xe8)](_0x593002(0xee)),cp_stname=document[_0x593002(0xe8)](_0x593002(0x100)),cp_stsec=document[_0x593002(0xe8)](_0x593002(0xe2)),cp_courseName=document[_0x593002(0xe8)]('cp-course-name'),cp_tname=document[_0x593002(0xe8)](_0x593002(0x11b)),qrbtn=document[_0x593002(0xe8)]('qr-btn'),openqr_btn=document[_0x593002(0xe8)](_0x593002(0xce)),cancel_btn=document['getElementById']('cancel-btn');let Desk,pcDisplay,qrResults;async function QrCheckPc(){function _0x33ee78(_0xf5f05e){const _0x342b01=_0x13c7;document[_0x342b01(0xd7)]===_0x342b01(0x107)||document[_0x342b01(0xd7)]===_0x342b01(0xc9)?setTimeout(_0xf5f05e,0x1):document[_0x342b01(0xfa)](_0x342b01(0x104),_0xf5f05e);}_0x33ee78(function(){const _0x576404=_0x13c7;var _0xd47d17=document[_0x576404(0xe8)](_0x576404(0xc5)),_0x2387f0,_0x1a697f=0x0;async function _0x912776(_0x26ea9d,_0x40e6ac){const _0x1b8e72=_0x576404;if(_0x26ea9d!==_0x2387f0){++_0x1a697f,_0x2387f0=_0x26ea9d,(qrResults=_0x26ea9d,_0x40e6ac);const _0x3cf1b7=qrResults[_0x1b8e72(0xd2)](',');qrResults=_0x3cf1b7[0x1],Desk=_0x3cf1b7[0x2],pcDisplay=_0x3cf1b7[0x3];var _0x1d8a7a=doc(client,'SOME-IS-TYPING',qrResults);const _0x35d52f=await getDoc(_0x1d8a7a);if(_0x35d52f['exists']())myqrcode['classList'][_0x1b8e72(0xc4)](_0x1b8e72(0xdc)),document['getElementById'](_0x1b8e72(0xde))['style']=_0x1b8e72(0xec),document[_0x1b8e72(0xe8)](_0x1b8e72(0xe1))[_0x1b8e72(0xc2)]=_0x1b8e72(0x10e),document['getElementById'](_0x1b8e72(0xe1))[_0x1b8e72(0xfe)][_0x1b8e72(0xd0)]=_0x1b8e72(0xe0),myPopup[_0x1b8e72(0xbd)][_0x1b8e72(0xcf)]('show');else{var _0x1d8a7a=doc(client,_0x1b8e72(0xf6),qrResults);const _0x1629df=await getDoc(_0x1d8a7a);if(_0x1629df[_0x1b8e72(0x111)]())myqrcode[_0x1b8e72(0xbd)][_0x1b8e72(0xc4)](_0x1b8e72(0xdc)),document[_0x1b8e72(0xe8)](_0x1b8e72(0xde))['style']=_0x1b8e72(0xec),document[_0x1b8e72(0xe8)](_0x1b8e72(0xe1))[_0x1b8e72(0xc2)]='This\x20Computer\x20Unit\x20is\x20Occupied.',document[_0x1b8e72(0xe8)](_0x1b8e72(0xe1))['style'][_0x1b8e72(0xd0)]=_0x1b8e72(0xe0),myPopup[_0x1b8e72(0xbd)][_0x1b8e72(0xcf)](_0x1b8e72(0xdc));else{const _0x1b3000=doc(client,'SOME-IS-TYPING',qrResults);setDoc(_0x1b3000,{'Desk':Desk}),document[_0x1b8e72(0xe8)]('form-container')[_0x1b8e72(0xfe)]=_0x1b8e72(0xd6),myqrcode['classList'][_0x1b8e72(0xc4)]('show'),document[_0x1b8e72(0xe8)](_0x1b8e72(0xde))[_0x1b8e72(0xfe)]=_0x1b8e72(0xec),document[_0x1b8e72(0xe8)](_0x1b8e72(0xce))[_0x1b8e72(0xfe)]='display:\x20none';}}}}var _0x483c6d=new Html5QrcodeScanner('my-qr-reader',{'fps':0xa,'qrbox':0xfa});_0x483c6d[_0x576404(0xeb)](_0x912776);});}qrbtn[_0x593002(0xfa)](_0x593002(0xd5),function(){const _0x3f7f94=_0x593002;getDateHour();if(cp_stid[_0x3f7f94(0x114)]===''||cp_stname[_0x3f7f94(0x114)]===''||cp_courseName[_0x3f7f94(0x114)]===''||cp_tname[_0x3f7f94(0x114)]===''||cp_stsec[_0x3f7f94(0x114)]==='')document[_0x3f7f94(0xe8)]('pop-up-message')[_0x3f7f94(0xc2)]='Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again',document['getElementById'](_0x3f7f94(0xe1))['style'][_0x3f7f94(0xd0)]=_0x3f7f94(0xe0),myPopup[_0x3f7f94(0xbd)][_0x3f7f94(0xcf)](_0x3f7f94(0xdc));else Late===_0x3f7f94(0xcd)?(document[_0x3f7f94(0xe8)](_0x3f7f94(0xe1))[_0x3f7f94(0xc2)]=_0x3f7f94(0xd9),document['getElementById'](_0x3f7f94(0xe1))['style']['textAlign']=_0x3f7f94(0xe0),myPopup[_0x3f7f94(0xbd)][_0x3f7f94(0xcf)](_0x3f7f94(0xdc))):(document[_0x3f7f94(0xe8)](_0x3f7f94(0x110))['style']=_0x3f7f94(0xec),document[_0x3f7f94(0xe8)]('pop-up-top')[_0x3f7f94(0xfe)]=_0x3f7f94(0x113),document[_0x3f7f94(0xe8)](_0x3f7f94(0xe1))[_0x3f7f94(0xc2)]=_0x3f7f94(0xc3),document[_0x3f7f94(0xe8)](_0x3f7f94(0xe1))[_0x3f7f94(0xfe)][_0x3f7f94(0xd0)]=_0x3f7f94(0xe0),myPopup['classList'][_0x3f7f94(0xcf)](_0x3f7f94(0xdc)),createData(qrResults,Desk,pcDisplay));}),openqr_btn[_0x593002(0xfa)](_0x593002(0xd5),function(){const _0x123c02=_0x593002;myqrcode[_0x123c02(0xbd)][_0x123c02(0xcf)](_0x123c02(0xdc)),document[_0x123c02(0xe8)]('myqrcode')[_0x123c02(0xfe)]=_0x123c02(0xd8),QrCheckPc();}),cancel_btn['addEventListener'](_0x593002(0xd5),function(){const _0x3ba16e=_0x593002,_0x56c68e=doc(client,_0x3ba16e(0x108),qrResults);deleteDoc(_0x56c68e),document['getElementById']('pop-up-message')[_0x3ba16e(0xc2)]=_0x3ba16e(0xea),document[_0x3ba16e(0xe8)]('pop-up-message')[_0x3ba16e(0xfe)][_0x3ba16e(0xd0)]='center',myPopup['classList'][_0x3ba16e(0xcf)](_0x3ba16e(0xdc)),document['getElementById'](_0x3ba16e(0x10f))[_0x3ba16e(0xfe)]=_0x3ba16e(0xbf),document[_0x3ba16e(0xe8)](_0x3ba16e(0xce))[_0x3ba16e(0xfe)]=_0x3ba16e(0xf0),cp_stid[_0x3ba16e(0x114)]='',cp_stname[_0x3ba16e(0x114)]='',cp_stsec[_0x3ba16e(0x114)]='',cp_tname[_0x3ba16e(0x114)]='',cp_courseName['value']='';});async function createData(_0x4949a8,_0x753af4,_0xa69ebc){const _0x1ddae3=_0x593002;var _0x452d1e=doc(client,'COMLAB-ATTENDANCE-TABLE',_0x4949a8);setDoc(_0x452d1e,{'Desk':_0x753af4,'Status':_0x1ddae3(0xff),'Student_ID':cp_stid[_0x1ddae3(0x114)],'Student_Name':cp_stname[_0x1ddae3(0x114)],'Student_Section':cp_stsec[_0x1ddae3(0x114)],'Student_Course':cp_courseName[_0x1ddae3(0x114)],'Teacher_Name':cp_tname[_0x1ddae3(0x114)],'Com_Unit_Num':_0xa69ebc,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}closecamera[_0x593002(0xfa)](_0x593002(0xd5),function(){const _0x5d9e8a=_0x593002;myqrcode['classList']['remove'](_0x5d9e8a(0xdc)),document[_0x5d9e8a(0xe8)](_0x5d9e8a(0xde))[_0x5d9e8a(0xfe)]=_0x5d9e8a(0xec);}),window[_0x593002(0xfa)](_0x593002(0xd5),function(_0x23d62f){const _0x51691f=_0x593002;_0x23d62f[_0x51691f(0xed)]==myqrcode&&myqrcode[_0x51691f(0xbd)][_0x51691f(0xc4)](_0x51691f(0xdc));}),closePopup[_0x593002(0xfa)]('click',function(){const _0x1bbfaa=_0x593002;myPopup[_0x1bbfaa(0xbd)]['remove'](_0x1bbfaa(0xdc));}),window[_0x593002(0xfa)](_0x593002(0xd5),function(_0x4e207c){const _0x87e9ec=_0x593002;_0x4e207c[_0x87e9ec(0xed)]==myPopup&&myPopup[_0x87e9ec(0xbd)][_0x87e9ec(0xc4)](_0x87e9ec(0xdc));});function getDateHour(){const _0x5581f6=_0x593002;let _0x3d45e6=new Date(),_0x142ad0=_0x3d45e6['getHours'](),_0x9ed313=_0x3d45e6['getMinutes'](),_0x25c6a2=_0x142ad0>=0xc?'pm':'am';_0x142ad0=_0x142ad0%0xc,_0x142ad0=_0x142ad0?_0x142ad0:0xc,_0x9ed313=_0x9ed313<0xa?'0'+_0x9ed313:_0x9ed313;let _0x2221a5=_0x142ad0+':'+_0x9ed313+_0x25c6a2,_0x3dda62=('0'+_0x3d45e6[_0x5581f6(0xc1)]())[_0x5581f6(0x10a)](-0x2),_0x2535b2=('0'+(_0x3d45e6['getMonth']()+0x1))[_0x5581f6(0x10a)](-0x2),_0x375c20=_0x3d45e6[_0x5581f6(0xc0)](),_0x3395ca=_0x2535b2+'/'+_0x3dda62+'/'+_0x375c20,_0x2e103a=_0x2221a5+'\x20'+_0x3395ca;if(_0x3d45e6['getMinutes']()>0x14)Late=_0x5581f6(0x10d);else _0x3d45e6[_0x5581f6(0x10b)]()>0x28?Late='not\x20Allow':Late=_0x5581f6(0x101);return _0x2e103a;}async function TypingCheckStudent(){const _0x523d0e=_0x593002;let _0x2497d9=0x0;db[_0x523d0e(0x117)](_0x523d0e(0x108))[_0x523d0e(0xdb)](_0x5996bc=>{const _0x14923a=_0x523d0e;_0x5996bc[_0x14923a(0xfb)](_0x450c81=>{const _0x1f6f33=_0x14923a,_0x4c48f3=_0x450c81[_0x1f6f33(0xf4)]()[_0x1f6f33(0x118)],_0x4f724b=document['getElementsByTagName']('td');_0x4f724b[_0x4c48f3][_0x1f6f33(0xfe)]='background-color:\x20purple;\x20padding:\x2010px;\x20',_0x2497d9=_0x4c48f3;});if(_0x5996bc[_0x14923a(0x112)]===0x0){console[_0x14923a(0xe6)](_0x14923a(0xe7));const _0x111fa9=document['getElementsByTagName']('td');_0x111fa9[_0x2497d9]['style']=_0x14923a(0x103);}});}window[_0x593002(0xf2)]=function(){TypingCheckStudent(),checkSit();};
