const _0x12c694=_0x4c66;(function(_0xa17810,_0x2be8a4){const _0x546f84=_0x4c66,_0xbaff38=_0xa17810();while(!![]){try{const _0x120487=-parseInt(_0x546f84(0x1e5))/0x1*(parseInt(_0x546f84(0x1fe))/0x2)+-parseInt(_0x546f84(0x1f5))/0x3*(-parseInt(_0x546f84(0x22c))/0x4)+-parseInt(_0x546f84(0x1fd))/0x5+-parseInt(_0x546f84(0x220))/0x6+parseInt(_0x546f84(0x1e4))/0x7+-parseInt(_0x546f84(0x20d))/0x8+parseInt(_0x546f84(0x212))/0x9;if(_0x120487===_0x2be8a4)break;else _0xbaff38['push'](_0xbaff38['shift']());}catch(_0x482f5d){_0xbaff38['push'](_0xbaff38['shift']());}}}(_0x2bb3,0x992ef));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js';const firebaseConfig={'apiKey':_0x12c694(0x1f6),'authDomain':_0x12c694(0x1e8),'projectId':_0x12c694(0x1f8),'storageBucket':'cpprog03.appspot.com','messagingSenderId':_0x12c694(0x210),'appId':_0x12c694(0x236)};import{getFirestore,doc,getDoc,collection,addDoc,setDoc,updateDoc,deleteDoc,deleteField,onSnapshot}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js';const app=initializeApp(firebaseConfig);firebase[_0x12c694(0x1f4)](firebaseConfig);const db=firebase[_0x12c694(0x223)](),client=getFirestore();let deskStat=[],studeData,count,Tablecells,Late;const close_form=document[_0x12c694(0x22b)]('close_form'),stid=document[_0x12c694(0x22b)](_0x12c694(0x213)),stname=document['getElementById'](_0x12c694(0x21b)),stsec=document[_0x12c694(0x22b)](_0x12c694(0x232)),courseName=document[_0x12c694(0x22b)](_0x12c694(0x217)),save_btn=document['getElementById']('save_btn'),tname=document[_0x12c694(0x22b)](_0x12c694(0x1ff));async function checkSit(){const _0x46685e=_0x12c694;db[_0x46685e(0x242)](_0x46685e(0x1f3))[_0x46685e(0x235)](_0x221f9e=>{const _0x54ce03=_0x46685e;_0x221f9e[_0x54ce03(0x204)](_0x6ec0b4=>{const _0x4a5952=_0x54ce03;studeData=_0x6ec0b4[_0x4a5952(0x1ec)]();const _0x27ce72=_0x6ec0b4['id'];deskStat[_0x4a5952(0x227)]({...studeData,'dataID':_0x27ce72}),deskStat['forEach'](_0x457f93=>{const _0x4b1bb9=_0x4a5952;if(_0x457f93[_0x4b1bb9(0x23f)]==='Occupied'&&_0x457f93['SchoolOnTime']===_0x4b1bb9(0x1e9)){const _0x163ae7=document[_0x4b1bb9(0x23a)]('td');_0x163ae7[_0x457f93[_0x4b1bb9(0x22f)]][_0x4b1bb9(0x201)]=_0x4b1bb9(0x1e7),_0x163ae7[_0x457f93[_0x4b1bb9(0x22f)]][_0x4b1bb9(0x1ea)]=_0x4b1bb9(0x214)+_0x457f93[_0x4b1bb9(0x243)]+'</span>'+_0x4b1bb9(0x202);}else{if(_0x457f93[_0x4b1bb9(0x23f)]===_0x4b1bb9(0x245)&&_0x457f93[_0x4b1bb9(0x233)]===_0x4b1bb9(0x222)){const _0x591ef7=document[_0x4b1bb9(0x23a)]('td');_0x591ef7[_0x457f93[_0x4b1bb9(0x22f)]]['style']='background-color:\x20red;\x20padding:10px;',_0x591ef7[_0x457f93['Desk']][_0x4b1bb9(0x1ea)]=_0x4b1bb9(0x214)+_0x457f93[_0x4b1bb9(0x243)]+_0x4b1bb9(0x216)+_0x4b1bb9(0x206);}else{const _0x138b72=document[_0x4b1bb9(0x23a)]('td');_0x138b72[_0x457f93[_0x4b1bb9(0x22f)]][_0x4b1bb9(0x201)]=_0x4b1bb9(0x221);}}});});});}document[_0x12c694(0x23c)]('DOMContentLoaded',function(){const _0x1cf834=_0x12c694;let _0x9283bf=document[_0x1cf834(0x23a)]('td');for(let _0x16a749=0x0;_0x16a749<_0x9283bf[_0x1cf834(0x237)];_0x16a749++){(function(_0x659219){const _0x3762a1=_0x1cf834;_0x9283bf[_0x659219][_0x3762a1(0x23c)](_0x3762a1(0x21f),function(){const _0x235534=_0x3762a1;_0x9283bf[_0x659219][_0x235534(0x201)]['backgroundColor']==_0x235534(0x241)||_0x9283bf[_0x659219]['style'][_0x235534(0x1f7)]=='red'||_0x9283bf[_0x659219][_0x235534(0x201)][_0x235534(0x1f7)]==_0x235534(0x22e)?(document[_0x235534(0x22b)](_0x235534(0x224))[_0x235534(0x1ea)]=_0x235534(0x1ed),document[_0x235534(0x22b)](_0x235534(0x224))[_0x235534(0x201)]['textAlign']=_0x235534(0x228),myPopup['classList'][_0x235534(0x22d)]('show')):(getDateHour(),Tablecells=_0x659219,Takepc(),document['getElementById']('web-form')['style']=_0x235534(0x21c));});}(_0x16a749));}});let pcnumber=_0x12c694(0x230)+Tablecells,ToDeleteDoc;async function Takepc(){const _0x21cf45=Tablecells;pcnumber='B1-28_DESKTOPPCNUMBER-'+Tablecells,ToDeleteDoc=doc(client,'SOME-IS-TYPING',pcnumber),setDoc(ToDeleteDoc,{'Desk':_0x21cf45});}async function ToSaveData(){const _0xb0f376=_0x12c694,_0x14fdb7=Tablecells+0x1;pcnumber=_0xb0f376(0x230)+Tablecells,console[_0xb0f376(0x20b)](pcnumber);var _0x129d2b=doc(client,_0xb0f376(0x1f3),pcnumber);setDoc(_0x129d2b,{'Desk':Tablecells,'Status':'Occupied','Student_ID':stid[_0xb0f376(0x209)],'Student_Name':stname[_0xb0f376(0x209)],'Student_Section':stsec[_0xb0f376(0x209)],'Student_Course':courseName['value'],'Teacher_Name':tname[_0xb0f376(0x209)],'Com_Unit_Num':_0x14fdb7,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}function _0x4c66(_0x1ce199,_0x1c5d81){const _0x2bb3c2=_0x2bb3();return _0x4c66=function(_0x4c6632,_0x1f8667){_0x4c6632=_0x4c6632-0x1e3;let _0x976733=_0x2bb3c2[_0x4c6632];return _0x976733;},_0x4c66(_0x1ce199,_0x1c5d81);}close_form[_0x12c694(0x23c)](_0x12c694(0x21f),async function(){const _0x438cb4=_0x12c694;await deleteDoc(ToDeleteDoc),TypingCheckStudent(),setInterval(function(){const _0x517bbe=_0x4c66;location[_0x517bbe(0x239)]();},0x1388),document['getElementById']('web-form')[_0x438cb4(0x201)]='display:\x20none;';}),save_btn[_0x12c694(0x23c)](_0x12c694(0x21f),async function(){const _0x58966b=_0x12c694;getDateHour(),console[_0x58966b(0x20b)](Late);if(stid['value']===''||stname[_0x58966b(0x209)]===''||courseName[_0x58966b(0x209)]===''||tname[_0x58966b(0x209)]===''||stsec['value']==='')document[_0x58966b(0x22b)](_0x58966b(0x224))[_0x58966b(0x1ea)]='Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again',document[_0x58966b(0x22b)](_0x58966b(0x224))['style'][_0x58966b(0x22a)]=_0x58966b(0x228),myPopup[_0x58966b(0x23e)]['add'](_0x58966b(0x219));else Late===_0x58966b(0x205)?(document['getElementById']('pop-up-message')[_0x58966b(0x1ea)]=_0x58966b(0x208),document[_0x58966b(0x22b)](_0x58966b(0x224))[_0x58966b(0x201)]['textAlign']='center',myPopup['classList']['add']('show'),document[_0x58966b(0x22b)]('web-form')[_0x58966b(0x201)]=_0x58966b(0x229),stid['value']='',stname[_0x58966b(0x209)]='',stsec['value']='',tname[_0x58966b(0x209)]='',courseName[_0x58966b(0x209)]=''):(await deleteDoc(ToDeleteDoc),ToSaveData(),document[_0x58966b(0x22b)](_0x58966b(0x231))[_0x58966b(0x201)]='display:\x20none;',document[_0x58966b(0x22b)](_0x58966b(0x1f2))['style']='display:none',document['getElementById'](_0x58966b(0x224))[_0x58966b(0x1ea)]=_0x58966b(0x234),document[_0x58966b(0x22b)](_0x58966b(0x224))[_0x58966b(0x201)][_0x58966b(0x22a)]=_0x58966b(0x228),myPopup['classList'][_0x58966b(0x22d)]('show'),stid['value']='',stname[_0x58966b(0x209)]='',stsec[_0x58966b(0x209)]='',tname[_0x58966b(0x209)]='',courseName[_0x58966b(0x209)]='',setInterval(function(){const _0x2169b9=_0x58966b;location[_0x2169b9(0x239)]();},0x1388));});const cp_stid=document['getElementById']('cp-stud-id'),cp_stname=document[_0x12c694(0x22b)](_0x12c694(0x23d)),cp_stsec=document[_0x12c694(0x22b)](_0x12c694(0x21a)),cp_courseName=document[_0x12c694(0x22b)](_0x12c694(0x1fa)),cp_tname=document[_0x12c694(0x22b)](_0x12c694(0x1f1)),qrbtn=document['getElementById'](_0x12c694(0x1ee)),openqr_btn=document[_0x12c694(0x22b)](_0x12c694(0x246)),cancel_btn=document['getElementById'](_0x12c694(0x23b));let Desk,pcDisplay,qrResults;async function QrCheckPc(){function _0x34020f(_0x5af752){const _0x3f47b9=_0x4c66;document['readyState']==='complete'||document['readyState']===_0x3f47b9(0x225)?setTimeout(_0x5af752,0x1):document[_0x3f47b9(0x23c)](_0x3f47b9(0x238),_0x5af752);}_0x34020f(function(){const _0x11a380=_0x4c66;var _0x15b2a6=document[_0x11a380(0x22b)](_0x11a380(0x1f0)),_0x503a12,_0x204711=0x0;async function _0x5d5656(_0x6a20f3,_0x27cd43){const _0x40bc6f=_0x11a380;if(_0x6a20f3!==_0x503a12){++_0x204711,_0x503a12=_0x6a20f3,(qrResults=_0x6a20f3,_0x27cd43);const _0x16272d=qrResults[_0x40bc6f(0x200)](',');qrResults=_0x16272d[0x1],Desk=_0x16272d[0x2],pcDisplay=_0x16272d[0x3];var _0x4a3bfb=doc(client,_0x40bc6f(0x20a),qrResults);const _0xddbad=await getDoc(_0x4a3bfb);if(_0xddbad['exists']())myqrcode[_0x40bc6f(0x23e)][_0x40bc6f(0x244)](_0x40bc6f(0x219)),document[_0x40bc6f(0x22b)](_0x40bc6f(0x203))[_0x40bc6f(0x201)]=_0x40bc6f(0x1fb),document['getElementById'](_0x40bc6f(0x224))['innerHTML']=_0x40bc6f(0x207),document[_0x40bc6f(0x22b)]('pop-up-message')[_0x40bc6f(0x201)][_0x40bc6f(0x22a)]=_0x40bc6f(0x228),myPopup[_0x40bc6f(0x23e)]['add'](_0x40bc6f(0x219));else{var _0x4a3bfb=doc(client,'COMLAB-ATTENDANCE-TABLE',qrResults);const _0x4013f6=await getDoc(_0x4a3bfb);if(_0x4013f6['exists']())myqrcode[_0x40bc6f(0x23e)]['remove'](_0x40bc6f(0x219)),document[_0x40bc6f(0x22b)](_0x40bc6f(0x203))[_0x40bc6f(0x201)]=_0x40bc6f(0x1fb),document[_0x40bc6f(0x22b)](_0x40bc6f(0x224))[_0x40bc6f(0x1ea)]=_0x40bc6f(0x1f9),document[_0x40bc6f(0x22b)](_0x40bc6f(0x224))[_0x40bc6f(0x201)]['textAlign']=_0x40bc6f(0x228),myPopup[_0x40bc6f(0x23e)]['add'](_0x40bc6f(0x219));else{const _0xc95ec7=doc(client,_0x40bc6f(0x20a),qrResults);setDoc(_0xc95ec7,{'Desk':Desk}),document[_0x40bc6f(0x22b)](_0x40bc6f(0x1e6))[_0x40bc6f(0x201)]=_0x40bc6f(0x21d),myqrcode['classList']['remove']('show'),document[_0x40bc6f(0x22b)](_0x40bc6f(0x203))[_0x40bc6f(0x201)]='display:\x20none;',document[_0x40bc6f(0x22b)]('openqr_btn')[_0x40bc6f(0x201)]='display:\x20none';}}}}var _0x2cf806=new Html5QrcodeScanner(_0x11a380(0x215),{'fps':0xa,'qrbox':0xfa});_0x2cf806['render'](_0x5d5656);});}qrbtn[_0x12c694(0x23c)](_0x12c694(0x21f),function(){const _0x592363=_0x12c694;getDateHour();if(cp_stid['value']===''||cp_stname[_0x592363(0x209)]===''||cp_courseName[_0x592363(0x209)]===''||cp_tname[_0x592363(0x209)]===''||cp_stsec[_0x592363(0x209)]==='')document[_0x592363(0x22b)](_0x592363(0x224))[_0x592363(0x1ea)]=_0x592363(0x1e3),document[_0x592363(0x22b)](_0x592363(0x224))['style'][_0x592363(0x22a)]='center',myPopup['classList'][_0x592363(0x22d)]('show');else{if(Late===_0x592363(0x205))document[_0x592363(0x22b)](_0x592363(0x224))[_0x592363(0x1ea)]=_0x592363(0x208),document['getElementById'](_0x592363(0x224))[_0x592363(0x201)][_0x592363(0x22a)]=_0x592363(0x228),myPopup['classList'][_0x592363(0x22d)]('show'),document[_0x592363(0x22b)](_0x592363(0x1e6))[_0x592363(0x201)]=_0x592363(0x229),document[_0x592363(0x22b)](_0x592363(0x246))[_0x592363(0x201)]='display:\x20flex;',cp_stid[_0x592363(0x209)]='',cp_stname[_0x592363(0x209)]='',cp_stsec['value']='',cp_tname[_0x592363(0x209)]='',cp_courseName['value']='';else{const _0x74b89e=doc(client,_0x592363(0x20a),qrResults);deleteDoc(_0x74b89e),document['getElementById'](_0x592363(0x1f2))['style']=_0x592363(0x226),document[_0x592363(0x22b)](_0x592363(0x224))[_0x592363(0x1ea)]=_0x592363(0x234),document[_0x592363(0x22b)](_0x592363(0x224))[_0x592363(0x201)][_0x592363(0x22a)]=_0x592363(0x228),myPopup['classList'][_0x592363(0x22d)](_0x592363(0x219)),document[_0x592363(0x22b)](_0x592363(0x1e6))['style']=_0x592363(0x229),document[_0x592363(0x22b)](_0x592363(0x246))['style']='display:\x20flex;',cp_stid['value']='',cp_stname[_0x592363(0x209)]='',cp_stsec[_0x592363(0x209)]='',cp_tname['value']='',cp_courseName[_0x592363(0x209)]='',createData(qrResults,Desk,pcDisplay);}}}),openqr_btn[_0x12c694(0x23c)]('click',function(){const _0x478c3b=_0x12c694;myqrcode[_0x478c3b(0x23e)][_0x478c3b(0x22d)](_0x478c3b(0x219)),document[_0x478c3b(0x22b)](_0x478c3b(0x203))[_0x478c3b(0x201)]=_0x478c3b(0x21c),QrCheckPc();}),cancel_btn[_0x12c694(0x23c)](_0x12c694(0x21f),function(){const _0x325de5=_0x12c694,_0x4ba9e7=doc(client,_0x325de5(0x20a),qrResults);deleteDoc(_0x4ba9e7),document[_0x325de5(0x22b)](_0x325de5(0x224))[_0x325de5(0x1ea)]='Your\x20input\x20data\x20is\x20Cancelled',document[_0x325de5(0x22b)]('pop-up-message')[_0x325de5(0x201)][_0x325de5(0x22a)]='center',myPopup[_0x325de5(0x23e)][_0x325de5(0x22d)](_0x325de5(0x219)),document[_0x325de5(0x22b)]('form-container')['style']=_0x325de5(0x229),document[_0x325de5(0x22b)](_0x325de5(0x246))[_0x325de5(0x201)]=_0x325de5(0x20f),cp_stid['value']='',cp_stname['value']='',cp_stsec[_0x325de5(0x209)]='',cp_tname[_0x325de5(0x209)]='',cp_courseName[_0x325de5(0x209)]='';});async function createData(_0x48309f,_0x1b6e07,_0x4114d0){const _0x15f6d8=_0x12c694;var _0x4bb66c=doc(client,'COMLAB-ATTENDANCE-TABLE',_0x48309f);setDoc(_0x4bb66c,{'Desk':_0x1b6e07,'Status':_0x15f6d8(0x245),'Student_ID':cp_stid[_0x15f6d8(0x209)],'Student_Name':cp_stname[_0x15f6d8(0x209)],'Student_Section':cp_stsec['value'],'Student_Course':cp_courseName['value'],'Teacher_Name':cp_tname['value'],'Com_Unit_Num':_0x4114d0,'SchoolOnTime':Late,'Date_Scan':getDateHour()}),setInterval(function(){const _0x292ade=_0x15f6d8;location[_0x292ade(0x239)]();},0x1388);}closecamera[_0x12c694(0x23c)]('click',function(){const _0x468136=_0x12c694;myqrcode[_0x468136(0x23e)][_0x468136(0x244)]('show'),document[_0x468136(0x22b)]('myqrcode')[_0x468136(0x201)]=_0x468136(0x1fb);}),window[_0x12c694(0x23c)](_0x12c694(0x21f),function(_0x46242a){const _0x47268c=_0x12c694;_0x46242a[_0x47268c(0x218)]==myqrcode&&myqrcode['classList'][_0x47268c(0x244)]('show');}),closePopup[_0x12c694(0x23c)](_0x12c694(0x21f),function(){const _0x29e334=_0x12c694;myPopup['classList'][_0x29e334(0x244)](_0x29e334(0x219));}),window['addEventListener']('click',function(_0xb2d922){const _0x1eb225=_0x12c694;_0xb2d922[_0x1eb225(0x218)]==myPopup&&myPopup[_0x1eb225(0x23e)][_0x1eb225(0x244)](_0x1eb225(0x219));});function getDateHour(){const _0x49566f=_0x12c694;let _0x3c972f=new Date(),_0x106425=_0x3c972f[_0x49566f(0x1fc)](),_0x244995=_0x3c972f[_0x49566f(0x1ef)](),_0x29f021=_0x106425>=0xc?'pm':'am';_0x106425=_0x106425%0xc,_0x106425=_0x106425?_0x106425:0xc,_0x244995=_0x244995<0xa?'0'+_0x244995:_0x244995;let _0x320fef=_0x106425+':'+_0x244995+_0x29f021,_0x177e5c=('0'+_0x3c972f[_0x49566f(0x20c)]())[_0x49566f(0x240)](-0x2),_0x5935f1=('0'+(_0x3c972f['getMonth']()+0x1))[_0x49566f(0x240)](-0x2),_0x4c2024=_0x3c972f['getFullYear'](),_0x392640=_0x5935f1+'/'+_0x177e5c+'/'+_0x4c2024,_0x512843=_0x320fef+'\x20'+_0x392640;if(_0x3c972f[_0x49566f(0x1ef)]()>=0x28)Late=_0x49566f(0x205);else _0x3c972f['getMinutes']()>=0x14?Late=_0x49566f(0x1e9):Late=_0x49566f(0x222);return _0x512843;}async function TypingCheckStudent(){const _0x375ea0=_0x12c694;let _0x4f0552=0x0;db[_0x375ea0(0x242)](_0x375ea0(0x20a))[_0x375ea0(0x235)](_0x4b18b8=>{const _0x5b02b0=_0x375ea0;_0x4b18b8['forEach'](_0x12bce8=>{const _0x15ea07=_0x4c66,_0x39ab05=_0x12bce8[_0x15ea07(0x1ec)]()[_0x15ea07(0x22f)],_0x2b56bc=document['getElementsByTagName']('td');_0x2b56bc[_0x39ab05][_0x15ea07(0x201)]=_0x15ea07(0x20e),_0x4f0552=_0x39ab05;});if(_0x4b18b8['size']===0x0){console[_0x5b02b0(0x20b)](_0x5b02b0(0x21e));const _0x4eeed8=document['getElementsByTagName']('td');_0x4eeed8[_0x4f0552][_0x5b02b0(0x201)]=_0x5b02b0(0x1eb);}});}window[_0x12c694(0x211)]=function(){TypingCheckStudent(),checkSit();};function _0x2bb3(){const _0x3c3a7f=['COMLAB-ATTENDANCE-TABLE','initializeApp','6NjOiTo','AIzaSyCOB2qEHCqj4ogZdjIH4Ff-tl-StyLShOk','backgroundColor','cpprog03','This\x20Computer\x20Unit\x20is\x20Occupied.','cp-course-name','display:\x20none;','getHours','5568415gCgIcJ','11146HYsjzY','teacher-name','split','style','Occupied!\x20<br>\x20BUT\x20LATE!','myqrcode','forEach','not','Occupied!\x20<br>\x20Ontime','Someone\x20is\x20already\x20taking\x20this\x20unit','Opps!\x20Its\x20look\x20like\x20your\x20too\x20late\x20to\x20take\x20this\x20attendance','value','SOME-IS-TYPING','log','getDate','3301424MRNmLH','background-color:\x20purple;\x20padding:\x2010px;\x20','display:\x20flex;','316552887176','onload','16287183NUJWai','stud-id','<span\x20class=\x22desk\x22>','my-qr-reader','</span>','course-name','target','show','cp-sect-name','stud-name','display:\x20block;','display:flex;','working','click','4458462FKGbFG','background-color:\x20lightgreen;','false','firestore','pop-up-message','interactive','display:none','push','center','display:none;','textAlign','getElementById','1754888xQiQSk','add','yellow','Desk','B1-28_DESKTOPPCNUMBER-','web-form','sect-name','SchoolOnTime','Submit\x20Successfully,\x20please\x20check\x20the\x20monitor\x20in\x20front\x20or\x20ask\x20the\x20teacher\x20if\x20its\x20reflect','onSnapshot','1:316552887176:web:2d8b0fc17477132873d83d','length','DOMContentLoaded','reload','getElementsByTagName','cancel-btn','addEventListener','cp-stud-name','classList','Status','slice','purple','collection','Com_Unit_Num','remove','Occupied','openqr_btn','Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again','6461630WqNPPJ','128MYYbZW','form-container','background-color:\x20yellow;\x20padding:10px;\x20color:\x20navy;','cpprog03.firebaseapp.com','true','innerHTML','background-color:\x20lightgreen;\x20padding:\x2010px;','data','This\x20PC\x20is\x20currently\x20occupied!','qr-btn','getMinutes','you-qr-result','cp-teacher-name','pop-up-top'];_0x2bb3=function(){return _0x3c3a7f;};return _0x2bb3();}
