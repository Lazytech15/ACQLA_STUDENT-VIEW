const _0xd51c3f=_0x449f;(function(_0x28095e,_0x42c6de){const _0x43691f=_0x449f,_0x5e2e14=_0x28095e();while(!![]){try{const _0x3cc1a2=parseInt(_0x43691f(0x211))/0x1*(-parseInt(_0x43691f(0x205))/0x2)+parseInt(_0x43691f(0x239))/0x3*(parseInt(_0x43691f(0x203))/0x4)+parseInt(_0x43691f(0x1ec))/0x5*(parseInt(_0x43691f(0x206))/0x6)+parseInt(_0x43691f(0x1f6))/0x7*(parseInt(_0x43691f(0x204))/0x8)+-parseInt(_0x43691f(0x22e))/0x9+parseInt(_0x43691f(0x208))/0xa*(-parseInt(_0x43691f(0x218))/0xb)+parseInt(_0x43691f(0x23e))/0xc;if(_0x3cc1a2===_0x42c6de)break;else _0x5e2e14['push'](_0x5e2e14['shift']());}catch(_0x2ae2fc){_0x5e2e14['push'](_0x5e2e14['shift']());}}}(_0x1582,0x3e222));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js';const firebaseConfig={'apiKey':_0xd51c3f(0x1eb),'authDomain':_0xd51c3f(0x234),'projectId':_0xd51c3f(0x216),'storageBucket':'cpprog03.appspot.com','messagingSenderId':_0xd51c3f(0x1f7),'appId':_0xd51c3f(0x20e)};import{getFirestore,doc,getDoc,collection,addDoc,setDoc,updateDoc,deleteDoc,deleteField,onSnapshot}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js';const app=initializeApp(firebaseConfig);firebase[_0xd51c3f(0x1f0)](firebaseConfig);const db=firebase['firestore'](),client=getFirestore();let deskStat=[],studeData,count,Tablecells,Late;const close_form=document[_0xd51c3f(0x217)](_0xd51c3f(0x20c)),stid=document[_0xd51c3f(0x217)]('stud-id'),stname=document[_0xd51c3f(0x217)](_0xd51c3f(0x1f1)),stsec=document['getElementById'](_0xd51c3f(0x1ed)),courseName=document[_0xd51c3f(0x217)](_0xd51c3f(0x1ea)),save_btn=document['getElementById'](_0xd51c3f(0x207)),tname=document['getElementById']('teacher-name');async function checkSit(){const _0x367352=_0xd51c3f;db[_0x367352(0x229)]('COMLAB-ATTENDANCE-TABLE')[_0x367352(0x22a)](_0x297b67=>{_0x297b67['forEach'](_0x5b9476=>{const _0x28e31b=_0x449f;studeData=_0x5b9476[_0x28e31b(0x226)]();const _0x5a6d5c=_0x5b9476['id'];deskStat[_0x28e31b(0x220)]({...studeData,'dataID':_0x5a6d5c}),deskStat[_0x28e31b(0x223)](_0x3406b7=>{const _0x15747e=_0x28e31b;if(_0x3406b7[_0x15747e(0x230)]===_0x15747e(0x22d)&&_0x3406b7['SchoolOnTime']===_0x15747e(0x213)){const _0x19e1ec=document['getElementsByTagName']('td');_0x19e1ec[_0x3406b7[_0x15747e(0x21a)]][_0x15747e(0x20b)]=_0x15747e(0x20a),_0x19e1ec[_0x3406b7[_0x15747e(0x21a)]][_0x15747e(0x212)]=_0x15747e(0x1f8)+_0x3406b7[_0x15747e(0x228)]+_0x15747e(0x21b)+'Occupied!\x20<br>\x20BUT\x20LATE!';}else{if(_0x3406b7[_0x15747e(0x230)]===_0x15747e(0x22d)&&_0x3406b7['SchoolOnTime']===_0x15747e(0x244)){const _0x1568bc=document[_0x15747e(0x1f9)]('td');_0x1568bc[_0x3406b7['Desk']][_0x15747e(0x20b)]=_0x15747e(0x225),_0x1568bc[_0x3406b7[_0x15747e(0x21a)]][_0x15747e(0x212)]='<span\x20class=\x22desk\x22>'+_0x3406b7['Com_Unit_Num']+_0x15747e(0x21b)+_0x15747e(0x246);}else{const _0x1714d8=document['getElementsByTagName']('td');_0x1714d8[_0x3406b7[_0x15747e(0x21a)]]['style']=_0x15747e(0x23b);}}});});});}document[_0xd51c3f(0x1ee)](_0xd51c3f(0x1f4),function(){const _0x55d815=_0xd51c3f;let _0x4b9796=document[_0x55d815(0x1f9)]('td');for(let _0x2ae79a=0x0;_0x2ae79a<_0x4b9796['length'];_0x2ae79a++){(function(_0x520836){const _0x573042=_0x55d815;_0x4b9796[_0x520836][_0x573042(0x1ee)](_0x573042(0x227),function(){const _0x1ed3f2=_0x573042;console['log'](_0x1ed3f2(0x247),_0x520836),_0x4b9796[_0x520836][_0x1ed3f2(0x20b)]['backgroundColor']=='purple'?alert(_0x1ed3f2(0x1fd)):(getDateHour(),Tablecells=_0x520836,Takepc(),document[_0x1ed3f2(0x217)](_0x1ed3f2(0x222))[_0x1ed3f2(0x20b)]=_0x1ed3f2(0x221));});}(_0x2ae79a));}});let pcnumber=_0xd51c3f(0x1fa)+Tablecells,ToDeleteDoc;async function Takepc(){const _0x51cceb=_0xd51c3f,_0x1012d0=Tablecells;pcnumber=_0x51cceb(0x1fa)+Tablecells,ToDeleteDoc=doc(client,_0x51cceb(0x248),pcnumber),setDoc(ToDeleteDoc,{'Desk':_0x1012d0});}async function ToSaveData(){const _0x3cc296=_0xd51c3f,_0x4b5f7f=Tablecells+0x1;pcnumber=_0x3cc296(0x1fa)+Tablecells,console[_0x3cc296(0x21d)](pcnumber);var _0x65ec5=doc(client,_0x3cc296(0x242),pcnumber);setDoc(_0x65ec5,{'Desk':Tablecells,'Status':_0x3cc296(0x22d),'Student_ID':stid[_0x3cc296(0x1fb)],'Student_Name':stname[_0x3cc296(0x1fb)],'Student_Section':stsec['value'],'Student_Course':courseName[_0x3cc296(0x1fb)],'Teacher_Name':tname[_0x3cc296(0x1fb)],'Com_Unit_Num':_0x4b5f7f,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}function _0x449f(_0x4f4e60,_0x4b1e4c){const _0x1582fa=_0x1582();return _0x449f=function(_0x449f2e,_0x198e96){_0x449f2e=_0x449f2e-0x1e7;let _0x21b61c=_0x1582fa[_0x449f2e];return _0x21b61c;},_0x449f(_0x4f4e60,_0x4b1e4c);}close_form[_0xd51c3f(0x1ee)]('click',async function(){const _0x5ae212=_0xd51c3f;await deleteDoc(ToDeleteDoc),TypingCheckStudent(),setInterval(function(){const _0x513ac8=_0x449f;location[_0x513ac8(0x202)]();},0x1388),document[_0x5ae212(0x217)](_0x5ae212(0x222))[_0x5ae212(0x20b)]=_0x5ae212(0x249);}),save_btn[_0xd51c3f(0x1ee)](_0xd51c3f(0x227),async function(){const _0x4d9d9c=_0xd51c3f;getDateHour();if(stid[_0x4d9d9c(0x1fb)]===''||stname[_0x4d9d9c(0x1fb)]===''||courseName[_0x4d9d9c(0x1fb)]===''||tname[_0x4d9d9c(0x1fb)]===''||stsec[_0x4d9d9c(0x1fb)]==='')document[_0x4d9d9c(0x217)](_0x4d9d9c(0x22b))[_0x4d9d9c(0x212)]='Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again',document[_0x4d9d9c(0x217)](_0x4d9d9c(0x22b))[_0x4d9d9c(0x20b)][_0x4d9d9c(0x1e8)]=_0x4d9d9c(0x231),myPopup['classList']['add'](_0x4d9d9c(0x21e));else Late===_0x4d9d9c(0x23f)?(document[_0x4d9d9c(0x217)](_0x4d9d9c(0x22b))['innerHTML']=_0x4d9d9c(0x1e9),document[_0x4d9d9c(0x217)](_0x4d9d9c(0x22b))[_0x4d9d9c(0x20b)][_0x4d9d9c(0x1e8)]='center',myPopup['classList']['add'](_0x4d9d9c(0x21e))):(await deleteDoc(ToDeleteDoc),ToSaveData(),document[_0x4d9d9c(0x217)](_0x4d9d9c(0x222))['style']=_0x4d9d9c(0x249),document[_0x4d9d9c(0x217)](_0x4d9d9c(0x1f3))[_0x4d9d9c(0x20b)]=_0x4d9d9c(0x215),document['getElementById'](_0x4d9d9c(0x22b))['innerHTML']='Submit\x20Successfully,\x20please\x20check\x20the\x20monitor\x20in\x20front\x20or\x20ask\x20the\x20teacher\x20if\x20its\x20reflect',document[_0x4d9d9c(0x217)]('pop-up-message')[_0x4d9d9c(0x20b)][_0x4d9d9c(0x1e8)]=_0x4d9d9c(0x231),myPopup[_0x4d9d9c(0x219)][_0x4d9d9c(0x209)](_0x4d9d9c(0x21e)),setInterval(function(){const _0x1895de=_0x4d9d9c;location[_0x1895de(0x202)]();},0x1388));});const cp_stid=document[_0xd51c3f(0x217)]('cp-stud-id'),cp_stname=document['getElementById'](_0xd51c3f(0x233)),cp_stsec=document[_0xd51c3f(0x217)](_0xd51c3f(0x236)),cp_courseName=document[_0xd51c3f(0x217)]('cp-course-name'),cp_tname=document[_0xd51c3f(0x217)](_0xd51c3f(0x1fe)),qrbtn=document[_0xd51c3f(0x217)]('qr-btn'),openqr_btn=document[_0xd51c3f(0x217)](_0xd51c3f(0x237)),cancel_btn=document[_0xd51c3f(0x217)](_0xd51c3f(0x1f5));let Desk,pcDisplay,qrResults;async function QrCheckPc(){function _0x125ce8(_0x3e1819){const _0x5c0591=_0x449f;document[_0x5c0591(0x214)]===_0x5c0591(0x235)||document[_0x5c0591(0x214)]===_0x5c0591(0x224)?setTimeout(_0x3e1819,0x1):document[_0x5c0591(0x1ee)]('DOMContentLoaded',_0x3e1819);}_0x125ce8(function(){const _0x1ac893=_0x449f;var _0x545561=document[_0x1ac893(0x217)](_0x1ac893(0x200)),_0x2d5827,_0x1b2e0d=0x0;async function _0xd946d6(_0x42de44,_0x404011){const _0x55a438=_0x1ac893;if(_0x42de44!==_0x2d5827){++_0x1b2e0d,_0x2d5827=_0x42de44,(qrResults=_0x42de44,_0x404011);const _0x470e9f=qrResults[_0x55a438(0x22c)](',');qrResults=_0x470e9f[0x1],Desk=_0x470e9f[0x2],pcDisplay=_0x470e9f[0x3];var _0x5f5a3d=doc(client,_0x55a438(0x248),qrResults);const _0x4082ca=await getDoc(_0x5f5a3d);if(_0x4082ca[_0x55a438(0x201)]())myqrcode[_0x55a438(0x219)]['remove'](_0x55a438(0x21e)),document['getElementById'](_0x55a438(0x240))[_0x55a438(0x20b)]=_0x55a438(0x249),document[_0x55a438(0x217)](_0x55a438(0x22b))[_0x55a438(0x212)]=_0x55a438(0x23d),document['getElementById'](_0x55a438(0x22b))[_0x55a438(0x20b)][_0x55a438(0x1e8)]=_0x55a438(0x231),myPopup['classList']['add'](_0x55a438(0x21e));else{var _0x5f5a3d=doc(client,_0x55a438(0x242),qrResults);const _0x16252d=await getDoc(_0x5f5a3d);if(_0x16252d['exists']())myqrcode[_0x55a438(0x219)]['remove'](_0x55a438(0x21e)),document[_0x55a438(0x217)](_0x55a438(0x240))[_0x55a438(0x20b)]=_0x55a438(0x249),document[_0x55a438(0x217)](_0x55a438(0x22b))[_0x55a438(0x212)]=_0x55a438(0x23c),document[_0x55a438(0x217)](_0x55a438(0x22b))[_0x55a438(0x20b)]['textAlign']=_0x55a438(0x231),myPopup['classList'][_0x55a438(0x209)](_0x55a438(0x21e));else{const _0x11ff91=doc(client,_0x55a438(0x248),qrResults);setDoc(_0x11ff91,{'Desk':Desk}),document[_0x55a438(0x217)]('form-container')[_0x55a438(0x20b)]=_0x55a438(0x20f),myqrcode[_0x55a438(0x219)][_0x55a438(0x1ff)](_0x55a438(0x21e)),document['getElementById'](_0x55a438(0x240))['style']='display:\x20none;',document[_0x55a438(0x217)](_0x55a438(0x237))[_0x55a438(0x20b)]='display:\x20none';}}}}var _0x4d0346=new Html5QrcodeScanner(_0x1ac893(0x21c),{'fps':0xa,'qrbox':0xfa});_0x4d0346[_0x1ac893(0x1f2)](_0xd946d6);});}qrbtn[_0xd51c3f(0x1ee)](_0xd51c3f(0x227),function(){const _0x1269d5=_0xd51c3f;getDateHour();if(cp_stid[_0x1269d5(0x1fb)]===''||cp_stname[_0x1269d5(0x1fb)]===''||cp_courseName[_0x1269d5(0x1fb)]===''||cp_tname['value']===''||cp_stsec[_0x1269d5(0x1fb)]==='')document['getElementById']('pop-up-message')[_0x1269d5(0x212)]=_0x1269d5(0x1e7),document['getElementById'](_0x1269d5(0x22b))[_0x1269d5(0x20b)]['textAlign']=_0x1269d5(0x231),myPopup['classList'][_0x1269d5(0x209)](_0x1269d5(0x21e));else Late===_0x1269d5(0x23f)?(document['getElementById'](_0x1269d5(0x22b))[_0x1269d5(0x212)]='Opps!\x20Its\x20look\x20like\x20your\x20too\x20late\x20to\x20take\x20this\x20attendance',document[_0x1269d5(0x217)](_0x1269d5(0x22b))[_0x1269d5(0x20b)]['textAlign']=_0x1269d5(0x231),myPopup[_0x1269d5(0x219)]['add'](_0x1269d5(0x21e))):(document[_0x1269d5(0x217)](_0x1269d5(0x222))[_0x1269d5(0x20b)]=_0x1269d5(0x249),document[_0x1269d5(0x217)](_0x1269d5(0x1f3))['style']=_0x1269d5(0x215),document['getElementById'](_0x1269d5(0x22b))[_0x1269d5(0x212)]=_0x1269d5(0x245),document[_0x1269d5(0x217)](_0x1269d5(0x22b))[_0x1269d5(0x20b)][_0x1269d5(0x1e8)]='center',myPopup['classList'][_0x1269d5(0x209)]('show'),createData(qrResults,Desk,pcDisplay));}),openqr_btn[_0xd51c3f(0x1ee)]('click',function(){const _0x546846=_0xd51c3f;myqrcode['classList'][_0x546846(0x209)](_0x546846(0x21e)),document[_0x546846(0x217)](_0x546846(0x240))[_0x546846(0x20b)]=_0x546846(0x221),QrCheckPc();}),cancel_btn[_0xd51c3f(0x1ee)]('click',function(){const _0x2b5212=_0xd51c3f,_0x4213d2=doc(client,_0x2b5212(0x248),qrResults);deleteDoc(_0x4213d2),document[_0x2b5212(0x217)](_0x2b5212(0x22b))['innerHTML']=_0x2b5212(0x23a),document[_0x2b5212(0x217)](_0x2b5212(0x22b))['style'][_0x2b5212(0x1e8)]=_0x2b5212(0x231),myPopup[_0x2b5212(0x219)][_0x2b5212(0x209)](_0x2b5212(0x21e)),document[_0x2b5212(0x217)](_0x2b5212(0x1ef))['style']=_0x2b5212(0x20d),document['getElementById'](_0x2b5212(0x237))[_0x2b5212(0x20b)]=_0x2b5212(0x232),cp_stid[_0x2b5212(0x1fb)]='',cp_stname['value']='',cp_stsec[_0x2b5212(0x1fb)]='',cp_tname['value']='',cp_courseName['value']='';});async function createData(_0x38b328,_0x33b2f2,_0x42a0b6){const _0x5b43aa=_0xd51c3f;var _0x23f936=doc(client,_0x5b43aa(0x242),_0x38b328);setDoc(_0x23f936,{'Desk':_0x33b2f2,'Status':'Occupied','Student_ID':cp_stid[_0x5b43aa(0x1fb)],'Student_Name':cp_stname['value'],'Student_Section':cp_stsec[_0x5b43aa(0x1fb)],'Student_Course':cp_courseName[_0x5b43aa(0x1fb)],'Teacher_Name':cp_tname[_0x5b43aa(0x1fb)],'Com_Unit_Num':_0x42a0b6,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}closecamera[_0xd51c3f(0x1ee)](_0xd51c3f(0x227),function(){const _0x5052cb=_0xd51c3f;myqrcode[_0x5052cb(0x219)][_0x5052cb(0x1ff)]('show'),document[_0x5052cb(0x217)](_0x5052cb(0x240))[_0x5052cb(0x20b)]=_0x5052cb(0x249);}),window[_0xd51c3f(0x1ee)](_0xd51c3f(0x227),function(_0x4aae99){const _0x21b911=_0xd51c3f;_0x4aae99[_0x21b911(0x22f)]==myqrcode&&myqrcode[_0x21b911(0x219)][_0x21b911(0x1ff)](_0x21b911(0x21e));}),closePopup[_0xd51c3f(0x1ee)](_0xd51c3f(0x227),function(){const _0x1457bc=_0xd51c3f;myPopup['classList'][_0x1457bc(0x1ff)](_0x1457bc(0x21e));}),window[_0xd51c3f(0x1ee)]('click',function(_0x443aab){const _0x2cb572=_0xd51c3f;_0x443aab['target']==myPopup&&myPopup[_0x2cb572(0x219)][_0x2cb572(0x1ff)]('show');});function getDateHour(){const _0x5eeba8=_0xd51c3f;let _0x50d1a2=new Date(),_0x30765d=_0x50d1a2['getHours'](),_0x3458dc=_0x50d1a2['getMinutes'](),_0x56e158=_0x30765d>=0xc?'pm':'am';_0x30765d=_0x30765d%0xc,_0x30765d=_0x30765d?_0x30765d:0xc,_0x3458dc=_0x3458dc<0xa?'0'+_0x3458dc:_0x3458dc;let _0x456fe9=_0x30765d+':'+_0x3458dc+_0x56e158,_0x3f3cbf=('0'+_0x50d1a2[_0x5eeba8(0x21f)]())[_0x5eeba8(0x24a)](-0x2),_0x4333d7=('0'+(_0x50d1a2[_0x5eeba8(0x243)]()+0x1))[_0x5eeba8(0x24a)](-0x2),_0x378390=_0x50d1a2['getFullYear'](),_0x2280b2=_0x4333d7+'/'+_0x3f3cbf+'/'+_0x378390,_0x2a269=_0x456fe9+'\x20'+_0x2280b2;if(_0x50d1a2['getMinutes']()>0x14)Late=_0x5eeba8(0x213);else _0x50d1a2[_0x5eeba8(0x241)]()>0x28?Late=_0x5eeba8(0x23f):Late='false';return _0x2a269;}async function TypingCheckStudent(){const _0x4794d9=_0xd51c3f;let _0xb7c063=0x0;db['collection'](_0x4794d9(0x248))['onSnapshot'](_0x1a9824=>{const _0x243c0f=_0x4794d9;_0x1a9824['forEach'](_0x583c39=>{const _0x364bcd=_0x449f,_0x50ff5a=_0x583c39[_0x364bcd(0x226)]()[_0x364bcd(0x21a)],_0x4d923b=document[_0x364bcd(0x1f9)]('td');_0x4d923b[_0x50ff5a][_0x364bcd(0x20b)]='background-color:\x20purple;\x20padding:\x2010px;\x20',_0xb7c063=_0x50ff5a;});if(_0x1a9824['size']===0x0){console['log'](_0x243c0f(0x238));const _0x5c135c=document['getElementsByTagName']('td');_0x5c135c[_0xb7c063]['style']=_0x243c0f(0x210);}});}function _0x1582(){const _0x2b9417=['5076346HqxraO','classList','Desk','</span>','my-qr-reader','log','show','getDate','push','display:\x20block;','web-form','forEach','interactive','background-color:\x20red;\x20padding:10px;','data','click','Com_Unit_Num','collection','onSnapshot','pop-up-message','split','Occupied','4435002PDXDqt','target','Status','center','display:\x20flex;','cp-stud-name','cpprog03.firebaseapp.com','complete','cp-sect-name','openqr_btn','working','238284JVronG','Your\x20input\x20data\x20is\x20Cancelled','background-color:\x20lightgreen;','This\x20Computer\x20Unit\x20is\x20Occupied.','Someone\x20is\x20already\x20taking\x20this\x20unit','8847192ZpwSea','not\x20Allow','myqrcode','getMinutes','COMLAB-ATTENDANCE-TABLE','getMonth','false','Submit\x20Successfully,\x20please\x20check\x20the\x20monitor\x20in\x20front\x20or\x20ask\x20the\x20teacher\x20if\x20its\x20reflect','Occupied!\x20<br>\x20Ontime','its\x20working','SOME-IS-TYPING','display:\x20none;','slice','Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again','textAlign','Opps!\x20Its\x20look\x20like\x20your\x20too\x20late\x20to\x20take\x20this\x20attendance','course-name','AIzaSyCOB2qEHCqj4ogZdjIH4Ff-tl-StyLShOk','5GTxIpv','sect-name','addEventListener','form-container','initializeApp','stud-name','render','pop-up-top','DOMContentLoaded','cancel-btn','959etOBsN','316552887176','<span\x20class=\x22desk\x22>','getElementsByTagName','B1-28_DESKTOPPCNUMBER-','value','onload','This\x20Pc\x20is\x20occupied!','cp-teacher-name','remove','you-qr-result','exists','reload','20LRRtbn','4568khuiuk','4sgvCAb','839562KOIDtg','save_btn','10ksUJVU','add','background-color:\x20yellow;\x20padding:10px;\x20color:\x20navy;','style','close_form','display:none;','1:316552887176:web:2d8b0fc17477132873d83d','display:flex;','background-color:\x20lightgreen;\x20padding:\x2010px;','71899kCulTh','innerHTML','true','readyState','display:none','cpprog03','getElementById'];_0x1582=function(){return _0x2b9417;};return _0x1582();}window[_0xd51c3f(0x1fc)]=function(){TypingCheckStudent(),checkSit();};
