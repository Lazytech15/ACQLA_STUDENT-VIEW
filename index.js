const _0x3a75ca=_0x23dd;(function(_0x144edf,_0xe24c00){const _0x11b50f=_0x23dd,_0x4863e6=_0x144edf();while(!![]){try{const _0x3f67b0=-parseInt(_0x11b50f(0x1c3))/0x1*(parseInt(_0x11b50f(0x1bb))/0x2)+parseInt(_0x11b50f(0x1c7))/0x3+-parseInt(_0x11b50f(0x1e4))/0x4+-parseInt(_0x11b50f(0x190))/0x5*(-parseInt(_0x11b50f(0x1c9))/0x6)+parseInt(_0x11b50f(0x198))/0x7*(parseInt(_0x11b50f(0x1a1))/0x8)+-parseInt(_0x11b50f(0x1df))/0x9*(parseInt(_0x11b50f(0x1a9))/0xa)+parseInt(_0x11b50f(0x1d5))/0xb;if(_0x3f67b0===_0xe24c00)break;else _0x4863e6['push'](_0x4863e6['shift']());}catch(_0x500fa5){_0x4863e6['push'](_0x4863e6['shift']());}}}(_0x39d4,0xa1eb6));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js';const firebaseConfig={'apiKey':_0x3a75ca(0x1dc),'authDomain':_0x3a75ca(0x1ad),'projectId':_0x3a75ca(0x1de),'storageBucket':'cpprog03.appspot.com','messagingSenderId':_0x3a75ca(0x18f),'appId':_0x3a75ca(0x18b)};import{getFirestore,doc,getDoc,collection,addDoc,setDoc,updateDoc,deleteDoc,deleteField,onSnapshot}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js';const app=initializeApp(firebaseConfig);firebase[_0x3a75ca(0x1a3)](firebaseConfig);const db=firebase[_0x3a75ca(0x1ab)](),client=getFirestore();let deskStat=[],studeData,count,Tablecells,Late;const close_form=document[_0x3a75ca(0x1b1)]('close_form'),stid=document[_0x3a75ca(0x1b1)](_0x3a75ca(0x19c)),stname=document[_0x3a75ca(0x1b1)]('stud-name'),stsec=document['getElementById'](_0x3a75ca(0x197)),courseName=document[_0x3a75ca(0x1b1)](_0x3a75ca(0x192)),save_btn=document[_0x3a75ca(0x1b1)](_0x3a75ca(0x1ce)),tname=document[_0x3a75ca(0x1b1)](_0x3a75ca(0x19f));async function checkSit(){const _0x5b0ee8=_0x3a75ca;db[_0x5b0ee8(0x196)](_0x5b0ee8(0x1aa))[_0x5b0ee8(0x19a)](_0x1f1310=>{const _0x255276=_0x5b0ee8;_0x1f1310[_0x255276(0x18e)](_0x23ec2a=>{const _0x40f648=_0x255276;studeData=_0x23ec2a[_0x40f648(0x1c1)]();const _0xb6b847=_0x23ec2a['id'];deskStat[_0x40f648(0x1d3)]({...studeData,'dataID':_0xb6b847}),deskStat[_0x40f648(0x18e)](_0x34db30=>{const _0x1c9cae=_0x40f648;if(_0x34db30['Status']==='Occupied'&&_0x34db30[_0x1c9cae(0x1e0)]===_0x1c9cae(0x1d8)){const _0x413838=document[_0x1c9cae(0x1bc)]('td');_0x413838[_0x34db30[_0x1c9cae(0x1d2)]][_0x1c9cae(0x1d9)]='background-color:\x20yellow;\x20padding:10px;\x20color:\x20navy;',_0x413838[_0x34db30[_0x1c9cae(0x1d2)]]['innerHTML']=_0x1c9cae(0x1cc)+_0x34db30[_0x1c9cae(0x1a5)]+_0x1c9cae(0x1d4)+'Occupied!\x20<br>\x20BUT\x20LATE!';}else{if(_0x34db30[_0x1c9cae(0x1b8)]===_0x1c9cae(0x1bd)&&_0x34db30[_0x1c9cae(0x1e0)]==='false'){const _0x2f0a22=document[_0x1c9cae(0x1bc)]('td');_0x2f0a22[_0x34db30[_0x1c9cae(0x1d2)]][_0x1c9cae(0x1d9)]=_0x1c9cae(0x1d6),_0x2f0a22[_0x34db30[_0x1c9cae(0x1d2)]][_0x1c9cae(0x1d1)]=_0x1c9cae(0x1cc)+_0x34db30[_0x1c9cae(0x1a5)]+'</span>'+_0x1c9cae(0x1b7);}else{const _0x1f3385=document['getElementsByTagName']('td');_0x1f3385[_0x34db30[_0x1c9cae(0x1d2)]][_0x1c9cae(0x1d9)]=_0x1c9cae(0x19b);}}});});});}function _0x23dd(_0x146c77,_0x154f42){const _0x39d418=_0x39d4();return _0x23dd=function(_0x23dd59,_0x342f8a){_0x23dd59=_0x23dd59-0x189;let _0x2d64aa=_0x39d418[_0x23dd59];return _0x2d64aa;},_0x23dd(_0x146c77,_0x154f42);}document['addEventListener'](_0x3a75ca(0x1cf),function(){const _0x99b555=_0x3a75ca;let _0x39dead=document[_0x99b555(0x1bc)]('td');for(let _0x448693=0x0;_0x448693<_0x39dead[_0x99b555(0x1a0)];_0x448693++){(function(_0xca082a){_0x39dead[_0xca082a]['addEventListener']('click',function(){const _0x4d29b3=_0x23dd;_0x39dead[_0xca082a]['innerHTML']!==''?alert('This\x20Pc\x20is\x20occupied!'):(getDateHour(),Tablecells=_0xca082a,Takepc(),document['getElementById'](_0x4d29b3(0x195))[_0x4d29b3(0x1d9)]='display:\x20block;');});}(_0x448693));}});let pcnumber=_0x3a75ca(0x1ca)+Tablecells,ToDeleteDoc;async function Takepc(){const _0x5d7fb0=_0x3a75ca,_0x5337ea=Tablecells;pcnumber=_0x5d7fb0(0x1ca)+Tablecells,ToDeleteDoc=doc(client,_0x5d7fb0(0x189),pcnumber),setDoc(ToDeleteDoc,{'Desk':_0x5337ea});}async function ToSaveData(){const _0x24dc44=_0x3a75ca,_0x1910bc=Tablecells+0x1;pcnumber=_0x24dc44(0x1ca)+Tablecells,console[_0x24dc44(0x1a8)](pcnumber);var _0x46155f=doc(client,'COMLAB-ATTENDANCE-TABLE',pcnumber);setDoc(_0x46155f,{'Desk':Tablecells,'Status':_0x24dc44(0x1bd),'Student_ID':stid['value'],'Student_Name':stname['value'],'Student_Section':stsec[_0x24dc44(0x18c)],'Student_Course':courseName[_0x24dc44(0x18c)],'Teacher_Name':tname['value'],'Com_Unit_Num':_0x1910bc,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}close_form['addEventListener'](_0x3a75ca(0x18a),async function(){const _0xf08744=_0x3a75ca;await deleteDoc(ToDeleteDoc),TypingCheckStudent(),setInterval(function(){location['reload']();},0x1388),document[_0xf08744(0x1b1)](_0xf08744(0x195))['style']=_0xf08744(0x1c0);}),save_btn['addEventListener'](_0x3a75ca(0x18a),async function(){const _0x5a6215=_0x3a75ca;getDateHour();if(stid[_0x5a6215(0x18c)]===''||stname[_0x5a6215(0x18c)]===''||courseName[_0x5a6215(0x18c)]===''||tname[_0x5a6215(0x18c)]===''||stsec['value']==='')document[_0x5a6215(0x1b1)](_0x5a6215(0x1ba))[_0x5a6215(0x1d1)]=_0x5a6215(0x1e2),document[_0x5a6215(0x1b1)](_0x5a6215(0x1ba))[_0x5a6215(0x1d9)][_0x5a6215(0x1e3)]='center',myPopup[_0x5a6215(0x1c6)][_0x5a6215(0x1c5)](_0x5a6215(0x1b4));else Late==='not\x20Allow'?(document[_0x5a6215(0x1b1)]('pop-up-message')[_0x5a6215(0x1d1)]=_0x5a6215(0x193),document['getElementById']('pop-up-message')[_0x5a6215(0x1d9)][_0x5a6215(0x1e3)]=_0x5a6215(0x1db),myPopup['classList']['add']('show')):(await deleteDoc(ToDeleteDoc),ToSaveData(),document[_0x5a6215(0x1b1)](_0x5a6215(0x195))['style']=_0x5a6215(0x1c0),document[_0x5a6215(0x1b1)](_0x5a6215(0x1a2))[_0x5a6215(0x1d9)]='display:none',document[_0x5a6215(0x1b1)](_0x5a6215(0x1ba))[_0x5a6215(0x1d1)]='Submit\x20Successfully,\x20please\x20check\x20the\x20monitor\x20in\x20front\x20or\x20ask\x20the\x20teacher\x20if\x20its\x20reflect',document['getElementById'](_0x5a6215(0x1ba))[_0x5a6215(0x1d9)]['textAlign']=_0x5a6215(0x1db),myPopup[_0x5a6215(0x1c6)][_0x5a6215(0x1c5)](_0x5a6215(0x1b4)),setInterval(function(){location['reload']();},0x1388));});function _0x39d4(){const _0x18455e=['background-color:\x20red;\x20padding:10px;','getFullYear','true','style','background-color:\x20purple;\x20padding:\x2010px;\x20','center','AIzaSyCOB2qEHCqj4ogZdjIH4Ff-tl-StyLShOk','getMinutes','cpprog03','9gHeqRM','SchoolOnTime','qr-btn','Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again','textAlign','3177072CvpYbq','false','Submit\x20Successfully,\x20please\x20check\x20the\x20monitor\x20in\x20front\x20or\x20ask\x20the\x20teacher\x20if\x20its\x20reflect','SOME-IS-TYPING','click','1:316552887176:web:2d8b0fc17477132873d83d','value','readyState','forEach','316552887176','16070pJdlgk','getDate','course-name','Opps!\x20Its\x20look\x20like\x20your\x20too\x20late\x20to\x20take\x20this\x20attendance','interactive','web-form','collection','sect-name','7jWfmcF','cp-course-name','onSnapshot','background-color:\x20lightgreen;','stud-id','myqrcode','size','teacher-name','length','19256pGMYuY','pop-up-top','initializeApp','getMonth','Com_Unit_Num','you-qr-result','my-qr-reader','log','3731210UjLrOM','COMLAB-ATTENDANCE-TABLE','firestore','cp-teacher-name','cpprog03.firebaseapp.com','form-container','This\x20Computer\x20Unit\x20is\x20Occupied.','split','getElementById','openqr_btn','cp-stud-name','show','cp-sect-name','cp-stud-id','Occupied!\x20<br>\x20Ontime','Status','display:flex;','pop-up-message','459990oFMAtv','getElementsByTagName','Occupied','render','addEventListener','display:\x20none;','data','getHours','3XvtkEk','display:\x20none','add','classList','32502rUOkpT','slice','1326etlJQd','B1-28_DESKTOPPCNUMBER-','not\x20Allow','<span\x20class=\x22desk\x22>','remove','save_btn','DOMContentLoaded','target','innerHTML','Desk','push','</span>','19767671lFrDji'];_0x39d4=function(){return _0x18455e;};return _0x39d4();}const cp_stid=document[_0x3a75ca(0x1b1)](_0x3a75ca(0x1b6)),cp_stname=document[_0x3a75ca(0x1b1)](_0x3a75ca(0x1b3)),cp_stsec=document[_0x3a75ca(0x1b1)](_0x3a75ca(0x1b5)),cp_courseName=document['getElementById'](_0x3a75ca(0x199)),cp_tname=document[_0x3a75ca(0x1b1)](_0x3a75ca(0x1ac)),qrbtn=document[_0x3a75ca(0x1b1)](_0x3a75ca(0x1e1)),openqr_btn=document[_0x3a75ca(0x1b1)](_0x3a75ca(0x1b2));let Desk,pcDisplay,qrResults;async function QrCheckPc(){function _0x585299(_0x475fce){const _0x210c79=_0x23dd;document[_0x210c79(0x18d)]==='complete'||document['readyState']===_0x210c79(0x194)?setTimeout(_0x475fce,0x1):document[_0x210c79(0x1bf)](_0x210c79(0x1cf),_0x475fce);}_0x585299(function(){const _0x5163db=_0x23dd;var _0x4f21d3=document[_0x5163db(0x1b1)](_0x5163db(0x1a6)),_0x315da5,_0x38f3d6=0x0;async function _0x21386e(_0xe609f2,_0x376f6f){const _0xe23e96=_0x5163db;if(_0xe609f2!==_0x315da5){++_0x38f3d6,_0x315da5=_0xe609f2,(qrResults=_0xe609f2,_0x376f6f);const _0x1d68f1=qrResults[_0xe23e96(0x1b0)](',');qrResults=_0x1d68f1[0x1],Desk=_0x1d68f1[0x2],pcDisplay=_0x1d68f1[0x3];var _0x586cca=doc(client,_0xe23e96(0x189),qrResults);const _0x4b882c=await getDoc(_0x586cca);if(_0x4b882c['exists']())myqrcode[_0xe23e96(0x1c6)][_0xe23e96(0x1cd)](_0xe23e96(0x1b4)),document[_0xe23e96(0x1b1)](_0xe23e96(0x19d))['style']=_0xe23e96(0x1c0),document['getElementById']('pop-up-message')[_0xe23e96(0x1d1)]='Someone\x20is\x20already\x20taking\x20this\x20unit',document['getElementById'](_0xe23e96(0x1ba))[_0xe23e96(0x1d9)]['textAlign']=_0xe23e96(0x1db),myPopup[_0xe23e96(0x1c6)][_0xe23e96(0x1c5)](_0xe23e96(0x1b4));else{var _0x586cca=doc(client,_0xe23e96(0x1aa),qrResults);const _0x38b225=await getDoc(_0x586cca);_0x38b225['exists']()?(myqrcode[_0xe23e96(0x1c6)][_0xe23e96(0x1cd)](_0xe23e96(0x1b4)),document[_0xe23e96(0x1b1)](_0xe23e96(0x19d))[_0xe23e96(0x1d9)]=_0xe23e96(0x1c0),document[_0xe23e96(0x1b1)](_0xe23e96(0x1ba))[_0xe23e96(0x1d1)]=_0xe23e96(0x1af),document[_0xe23e96(0x1b1)](_0xe23e96(0x1ba))[_0xe23e96(0x1d9)][_0xe23e96(0x1e3)]='center',myPopup[_0xe23e96(0x1c6)][_0xe23e96(0x1c5)](_0xe23e96(0x1b4))):(document[_0xe23e96(0x1b1)](_0xe23e96(0x1ae))[_0xe23e96(0x1d9)]=_0xe23e96(0x1b9),myqrcode['classList'][_0xe23e96(0x1cd)](_0xe23e96(0x1b4)),document[_0xe23e96(0x1b1)](_0xe23e96(0x19d))['style']=_0xe23e96(0x1c0),document[_0xe23e96(0x1b1)]('openqr_btn')[_0xe23e96(0x1d9)]=_0xe23e96(0x1c4));}}}var _0xa4d989=new Html5QrcodeScanner(_0x5163db(0x1a7),{'fps':0xa,'qrbox':0xfa});_0xa4d989[_0x5163db(0x1be)](_0x21386e);});}qrbtn['addEventListener'](_0x3a75ca(0x18a),function(){const _0x50179c=_0x3a75ca;getDateHour();if(cp_stid['value']===''||cp_stname[_0x50179c(0x18c)]===''||cp_courseName[_0x50179c(0x18c)]===''||cp_tname['value']===''||cp_stsec['value']==='')document[_0x50179c(0x1b1)](_0x50179c(0x1ba))[_0x50179c(0x1d1)]=_0x50179c(0x1e2),document[_0x50179c(0x1b1)](_0x50179c(0x1ba))[_0x50179c(0x1d9)][_0x50179c(0x1e3)]='center',myPopup[_0x50179c(0x1c6)][_0x50179c(0x1c5)](_0x50179c(0x1b4));else Late===_0x50179c(0x1cb)?(document[_0x50179c(0x1b1)](_0x50179c(0x1ba))[_0x50179c(0x1d1)]=_0x50179c(0x193),document[_0x50179c(0x1b1)](_0x50179c(0x1ba))['style'][_0x50179c(0x1e3)]=_0x50179c(0x1db),myPopup['classList'][_0x50179c(0x1c5)](_0x50179c(0x1b4))):(document['getElementById'](_0x50179c(0x195))[_0x50179c(0x1d9)]=_0x50179c(0x1c0),document[_0x50179c(0x1b1)](_0x50179c(0x1a2))['style']='display:none',document['getElementById'](_0x50179c(0x1ba))[_0x50179c(0x1d1)]=_0x50179c(0x1e6),document[_0x50179c(0x1b1)](_0x50179c(0x1ba))['style'][_0x50179c(0x1e3)]=_0x50179c(0x1db),myPopup['classList'][_0x50179c(0x1c5)](_0x50179c(0x1b4)),createData(qrResults,Desk,pcDisplay));}),openqr_btn[_0x3a75ca(0x1bf)](_0x3a75ca(0x18a),function(){const _0x2f82a4=_0x3a75ca;myqrcode[_0x2f82a4(0x1c6)][_0x2f82a4(0x1c5)]('show'),document[_0x2f82a4(0x1b1)](_0x2f82a4(0x19d))[_0x2f82a4(0x1d9)]='display:\x20block;',QrCheckPc();});async function createData(_0x29102a,_0x54de21,_0xa12c9f){const _0x3e0c25=_0x3a75ca;var _0x4e9134=doc(client,_0x3e0c25(0x1aa),_0x29102a);setDoc(_0x4e9134,{'Desk':_0x54de21,'Status':_0x3e0c25(0x1bd),'Student_ID':cp_stid[_0x3e0c25(0x18c)],'Student_Name':cp_stname[_0x3e0c25(0x18c)],'Student_Section':cp_stsec[_0x3e0c25(0x18c)],'Student_Course':cp_courseName[_0x3e0c25(0x18c)],'Teacher_Name':cp_tname[_0x3e0c25(0x18c)],'Com_Unit_Num':_0xa12c9f,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}closecamera['addEventListener']('click',function(){const _0x1d851b=_0x3a75ca;myqrcode[_0x1d851b(0x1c6)]['remove']('show'),document[_0x1d851b(0x1b1)](_0x1d851b(0x19d))[_0x1d851b(0x1d9)]=_0x1d851b(0x1c0);}),window[_0x3a75ca(0x1bf)](_0x3a75ca(0x18a),function(_0x17c744){const _0x371734=_0x3a75ca;_0x17c744[_0x371734(0x1d0)]==myqrcode&&myqrcode[_0x371734(0x1c6)]['remove'](_0x371734(0x1b4));}),closePopup[_0x3a75ca(0x1bf)](_0x3a75ca(0x18a),function(){const _0x226be8=_0x3a75ca;myPopup['classList'][_0x226be8(0x1cd)](_0x226be8(0x1b4));}),window[_0x3a75ca(0x1bf)]('click',function(_0x52b341){const _0x57d048=_0x3a75ca;_0x52b341['target']==myPopup&&myPopup[_0x57d048(0x1c6)][_0x57d048(0x1cd)](_0x57d048(0x1b4));});function getDateHour(){const _0x171e83=_0x3a75ca;let _0x597c45=new Date(),_0x894235=_0x597c45[_0x171e83(0x1c2)](),_0xb276a2=_0x597c45[_0x171e83(0x1dd)](),_0x2b7283=_0x894235>=0xc?'pm':'am';_0x894235=_0x894235%0xc,_0x894235=_0x894235?_0x894235:0xc,_0xb276a2=_0xb276a2<0xa?'0'+_0xb276a2:_0xb276a2;let _0x35b4ea=_0x894235+':'+_0xb276a2+_0x2b7283,_0x4ad57a=('0'+_0x597c45[_0x171e83(0x191)]())[_0x171e83(0x1c8)](-0x2),_0x5c445a=('0'+(_0x597c45[_0x171e83(0x1a4)]()+0x1))[_0x171e83(0x1c8)](-0x2),_0x88d668=_0x597c45[_0x171e83(0x1d7)](),_0x26b45f=_0x5c445a+'/'+_0x4ad57a+'/'+_0x88d668,_0x5a5d8f=_0x35b4ea+'\x20'+_0x26b45f;if(_0x597c45[_0x171e83(0x1dd)]()>0x14)Late='true';else _0x597c45['getMinutes']()>0x28?Late='not\x20Allow':Late=_0x171e83(0x1e5);return _0x5a5d8f;}async function TypingCheckStudent(){const _0x415328=_0x3a75ca;let _0x52af31=0x0;db[_0x415328(0x196)](_0x415328(0x189))[_0x415328(0x19a)](_0x1eaf8a=>{const _0x91669e=_0x415328;_0x1eaf8a[_0x91669e(0x18e)](_0x1881be=>{const _0x28e977=_0x91669e,_0x4ca52f=_0x1881be[_0x28e977(0x1c1)]()[_0x28e977(0x1d2)],_0x2e1bc9=document[_0x28e977(0x1bc)]('td');_0x2e1bc9[_0x4ca52f][_0x28e977(0x1d9)]=_0x28e977(0x1da),_0x52af31=_0x4ca52f;});if(_0x1eaf8a[_0x91669e(0x19e)]===0x0){console[_0x91669e(0x1a8)]('working');const _0x58ca1c=document[_0x91669e(0x1bc)]('td');_0x58ca1c[_0x52af31][_0x91669e(0x1d9)]='background-color:\x20lightgreen;\x20padding:\x2010px;';}});}window['onload']=function(){TypingCheckStudent(),checkSit();};
