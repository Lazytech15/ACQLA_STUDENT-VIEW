const _0x265eec=_0x4d0a;(function(_0xd1540c,_0x53e5fd){const _0x258ee9=_0x4d0a,_0x37b510=_0xd1540c();while(!![]){try{const _0x5e8219=parseInt(_0x258ee9(0x104))/0x1*(parseInt(_0x258ee9(0xf4))/0x2)+parseInt(_0x258ee9(0x102))/0x3+-parseInt(_0x258ee9(0xc9))/0x4+-parseInt(_0x258ee9(0xe8))/0x5*(parseInt(_0x258ee9(0xfd))/0x6)+parseInt(_0x258ee9(0xdd))/0x7+parseInt(_0x258ee9(0xf1))/0x8+-parseInt(_0x258ee9(0xf7))/0x9*(-parseInt(_0x258ee9(0xff))/0xa);if(_0x5e8219===_0x53e5fd)break;else _0x37b510['push'](_0x37b510['shift']());}catch(_0x211211){_0x37b510['push'](_0x37b510['shift']());}}}(_0x4751,0x568a3));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js';const firebaseConfig={'apiKey':'AIzaSyCOB2qEHCqj4ogZdjIH4Ff-tl-StyLShOk','authDomain':_0x265eec(0xfb),'projectId':_0x265eec(0xef),'storageBucket':_0x265eec(0xfa),'messagingSenderId':_0x265eec(0xdc),'appId':'1:316552887176:web:2d8b0fc17477132873d83d'};import{getFirestore,doc,getDoc,collection,addDoc,setDoc,updateDoc,deleteDoc,deleteField,onSnapshot}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js';const app=initializeApp(firebaseConfig);firebase[_0x265eec(0xf5)](firebaseConfig);const db=firebase[_0x265eec(0x106)](),client=getFirestore();let deskStat=[],studeData,count,Tablecells,Late;const close_form=document['getElementById'](_0x265eec(0xed)),stid=document[_0x265eec(0xe9)](_0x265eec(0xd6)),stname=document[_0x265eec(0xe9)](_0x265eec(0xee)),stsec=document[_0x265eec(0xe9)]('sect-name'),courseName=document['getElementById'](_0x265eec(0x116)),save_btn=document['getElementById'](_0x265eec(0x100)),tname=document[_0x265eec(0xe9)](_0x265eec(0xf9));async function checkSit(){const _0x480476=_0x265eec;db[_0x480476(0xd8)](_0x480476(0xe1))[_0x480476(0xea)](_0x3bcd02=>{const _0xdd2e54=_0x480476;_0x3bcd02[_0xdd2e54(0x115)](_0x5cc8fe=>{const _0x4f3095=_0xdd2e54;studeData=_0x5cc8fe['data']();const _0x25a4a3=_0x5cc8fe['id'];deskStat[_0x4f3095(0xd1)]({...studeData,'dataID':_0x25a4a3}),deskStat['forEach'](_0x19aa45=>{const _0x3f4c34=_0x4f3095;if(_0x19aa45[_0x3f4c34(0x10e)]===_0x3f4c34(0x10f)&&_0x19aa45['SchoolOnTime']===_0x3f4c34(0xfe)){const _0x5ef583=document[_0x3f4c34(0xc0)]('td');_0x5ef583[_0x19aa45[_0x3f4c34(0x113)]]['style']=_0x3f4c34(0xd0),_0x5ef583[_0x19aa45['Desk']][_0x3f4c34(0xe0)]='<span\x20class=\x22desk\x22>'+_0x19aa45[_0x3f4c34(0x10d)]+_0x3f4c34(0xcb)+'Occupied!\x20<br>\x20BUT\x20LATE!';}else{if(_0x19aa45['Status']==='Occupied'&&_0x19aa45[_0x3f4c34(0x101)]===_0x3f4c34(0xc7)){const _0x28c3a5=document['getElementsByTagName']('td');_0x28c3a5[_0x19aa45['Desk']][_0x3f4c34(0x119)]=_0x3f4c34(0xe7),_0x28c3a5[_0x19aa45[_0x3f4c34(0x113)]][_0x3f4c34(0xe0)]=_0x3f4c34(0xf8)+_0x19aa45[_0x3f4c34(0x10d)]+_0x3f4c34(0xcb)+_0x3f4c34(0xc4);}else{const _0xc77d98=document['getElementsByTagName']('td');_0xc77d98[_0x19aa45[_0x3f4c34(0x113)]]['style']=_0x3f4c34(0x105);}}});});});}document[_0x265eec(0xc6)](_0x265eec(0x111),function(){let _0x4aabbb=document['getElementsByTagName']('td');for(let _0x4d31c8=0x0;_0x4d31c8<_0x4aabbb['length'];_0x4d31c8++){(function(_0x77ca5f){const _0x35bcd7=_0x4d0a;_0x4aabbb[_0x77ca5f][_0x35bcd7(0xc6)](_0x35bcd7(0x103),function(){const _0x41a493=_0x35bcd7;_0x4aabbb[_0x77ca5f][_0x41a493(0xe0)]!==''?alert('This\x20Pc\x20is\x20occupied!'):(getDateHour(),Tablecells=_0x77ca5f,Takepc(),document['getElementById']('web-form')['style']='display:\x20block;');});}(_0x4d31c8));}});function _0x4751(){const _0x393a13=['background-color:\x20red;\x20padding:10px;','3257005OMqFpn','getElementById','onSnapshot','B1-28_DESKTOPPCNUMBER-','interactive','close_form','stud-name','cpprog03','show','4487144olNGwX','qr-btn','cp-sect-name','73298Zjlhwg','initializeApp','getHours','9EcdXwc','<span\x20class=\x22desk\x22>','teacher-name','cpprog03.appspot.com','cpprog03.firebaseapp.com','classList','6dhqKkP','true','2513650YUAeHq','save_btn','SchoolOnTime','721158IRZJyh','click','2wbRYHv','background-color:\x20lightgreen;','firestore','Submit\x20Successfully,\x20please\x20check\x20the\x20monitor\x20in\x20front\x20or\x20ask\x20the\x20teacher\x20if\x20its\x20reflect','log','my-qr-reader','add','SOME-IS-TYPING','background-color:\x20lightgreen;\x20padding:\x2010px;','Com_Unit_Num','Status','Occupied','split','DOMContentLoaded','Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again','Desk','center','forEach','course-name','readyState','pop-up-top','style','getFullYear','getElementsByTagName','slice','textAlign','you-qr-result','Occupied!\x20<br>\x20Ontime','cp-stud-name','addEventListener','false','remove','1053480kTPUui','getMinutes','</span>','background-color:\x20purple;\x20padding:\x2010px;\x20','myqrcode','display:\x20none;','display:none','background-color:\x20yellow;\x20padding:10px;\x20color:\x20navy;','push','working','complete','cp-stud-id','not\x20Allow','stud-id','size','collection','render','You\x20scanned\x20','pop-up-message','316552887176','1003072SldUIP','onload','Opps!\x20Its\x20look\x20like\x20your\x20too\x20late\x20to\x20take\x20this\x20attendance','innerHTML','COMLAB-ATTENDANCE-TABLE','target','display:\x20block;','cp-course-name','reload','value'];_0x4751=function(){return _0x393a13;};return _0x4751();}let pcnumber='B1-28_DESKTOPPCNUMBER-'+Tablecells,ToDeleteDoc;async function Takepc(){const _0x1de959=_0x265eec,_0x410303=Tablecells;pcnumber=_0x1de959(0xeb)+Tablecells,ToDeleteDoc=doc(client,'SOME-IS-TYPING',pcnumber),setDoc(ToDeleteDoc,{'Desk':_0x410303});}async function ToSaveData(){const _0x24de7e=_0x265eec,_0x66f834=Tablecells+0x1;pcnumber='B1-28_DESKTOPPCNUMBER-'+Tablecells,console['log'](pcnumber);var _0x49db61=doc(client,_0x24de7e(0xe1),pcnumber);setDoc(_0x49db61,{'Desk':Tablecells,'Status':_0x24de7e(0x10f),'Student_ID':stid['value'],'Student_Name':stname['value'],'Student_Section':stsec[_0x24de7e(0xe6)],'Student_Course':courseName[_0x24de7e(0xe6)],'Teacher_Name':tname[_0x24de7e(0xe6)],'Com_Unit_Num':_0x66f834,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}close_form[_0x265eec(0xc6)](_0x265eec(0x103),async function(){const _0x1f9245=_0x265eec;await deleteDoc(ToDeleteDoc),TypingCheckStudent(),setInterval(function(){const _0x2e3276=_0x4d0a;location[_0x2e3276(0xe5)]();},0x1388),document[_0x1f9245(0xe9)]('web-form')['style']='display:\x20none;';}),save_btn['addEventListener'](_0x265eec(0x103),async function(){const _0x3feb89=_0x265eec;getDateHour();if(stid['value']===''||stname[_0x3feb89(0xe6)]===''||courseName[_0x3feb89(0xe6)]===''||tname['value']===''||stsec[_0x3feb89(0xe6)]==='')document[_0x3feb89(0xe9)](_0x3feb89(0xdb))[_0x3feb89(0xe0)]=_0x3feb89(0x112),document[_0x3feb89(0xe9)](_0x3feb89(0xdb))[_0x3feb89(0x119)][_0x3feb89(0xc2)]=_0x3feb89(0x114),myPopup[_0x3feb89(0xfc)][_0x3feb89(0x10a)](_0x3feb89(0xf0));else Late===_0x3feb89(0xd5)?(document[_0x3feb89(0xe9)](_0x3feb89(0xdb))[_0x3feb89(0xe0)]=_0x3feb89(0xdf),document[_0x3feb89(0xe9)](_0x3feb89(0xdb))[_0x3feb89(0x119)][_0x3feb89(0xc2)]='center',myPopup['classList'][_0x3feb89(0x10a)](_0x3feb89(0xf0))):(await deleteDoc(ToDeleteDoc),ToSaveData(),document[_0x3feb89(0xe9)]('web-form')['style']=_0x3feb89(0xce),document[_0x3feb89(0xe9)](_0x3feb89(0x118))[_0x3feb89(0x119)]=_0x3feb89(0xcf),document['getElementById'](_0x3feb89(0xdb))[_0x3feb89(0xe0)]=_0x3feb89(0x107),document[_0x3feb89(0xe9)](_0x3feb89(0xdb))[_0x3feb89(0x119)]['textAlign']=_0x3feb89(0x114),myPopup[_0x3feb89(0xfc)][_0x3feb89(0x10a)](_0x3feb89(0xf0)),setInterval(function(){const _0x58a0be=_0x3feb89;location[_0x58a0be(0xe5)]();},0x1388));});function _0x4d0a(_0x37f07d,_0x38a785){const _0x475171=_0x4751();return _0x4d0a=function(_0x4d0a19,_0x392646){_0x4d0a19=_0x4d0a19-0xbf;let _0x5279c9=_0x475171[_0x4d0a19];return _0x5279c9;},_0x4d0a(_0x37f07d,_0x38a785);}const cp_stid=document[_0x265eec(0xe9)](_0x265eec(0xd4)),cp_stname=document['getElementById'](_0x265eec(0xc5)),cp_stsec=document[_0x265eec(0xe9)](_0x265eec(0xf3)),cp_courseName=document[_0x265eec(0xe9)](_0x265eec(0xe4)),cp_tname=document[_0x265eec(0xe9)]('cp-teacher-name'),qrbtn=document[_0x265eec(0xe9)](_0x265eec(0xf2));qrbtn['addEventListener']('click',function(){const _0x3e8996=_0x265eec;getDateHour();if(cp_stid[_0x3e8996(0xe6)]===''||cp_stname[_0x3e8996(0xe6)]===''||cp_courseName[_0x3e8996(0xe6)]===''||cp_tname[_0x3e8996(0xe6)]===''||cp_stsec['value']==='')document[_0x3e8996(0xe9)](_0x3e8996(0xdb))['innerHTML']=_0x3e8996(0x112),document['getElementById'](_0x3e8996(0xdb))[_0x3e8996(0x119)][_0x3e8996(0xc2)]='center',myPopup[_0x3e8996(0xfc)]['add'](_0x3e8996(0xf0));else{if(Late===_0x3e8996(0xd5))document[_0x3e8996(0xe9)](_0x3e8996(0xdb))[_0x3e8996(0xe0)]=_0x3e8996(0xdf),document[_0x3e8996(0xe9)](_0x3e8996(0xdb))[_0x3e8996(0x119)][_0x3e8996(0xc2)]='center',myPopup['classList'][_0x3e8996(0x10a)](_0x3e8996(0xf0));else{myqrcode['classList'][_0x3e8996(0x10a)](_0x3e8996(0xf0)),document[_0x3e8996(0xe9)](_0x3e8996(0xcd))[_0x3e8996(0x119)]=_0x3e8996(0xe3);function _0x401851(_0x13f49a){const _0x4ab06c=_0x3e8996;document['readyState']===_0x4ab06c(0xd3)||document[_0x4ab06c(0x117)]===_0x4ab06c(0xec)?setTimeout(_0x13f49a,0x1):document['addEventListener'](_0x4ab06c(0x111),_0x13f49a);}_0x401851(function(){const _0x5bb15d=_0x3e8996;var _0x18b5f6=document[_0x5bb15d(0xe9)](_0x5bb15d(0xc3)),_0x541357,_0x15d68d=0x0;function _0x5b3b74(_0x41d206,_0x5279fe){const _0x592905=_0x5bb15d;if(_0x41d206!==_0x541357){++_0x15d68d,_0x541357=_0x41d206;let _0x345e14=_0x41d206,_0x53bfcf;const _0x24f184=_0x345e14[_0x592905(0x110)](',');_0x345e14=_0x24f184[0x1];const _0x4391a7=_0x24f184[0x2],_0x1d813f=_0x24f184[0x3];createData(_0x345e14,_0x4391a7,_0x1d813f),document[_0x592905(0xe9)]('web-form')[_0x592905(0x119)]=_0x592905(0xce),document[_0x592905(0xe9)]('pop-up-top')['style']=_0x592905(0xcf),document['getElementById'](_0x592905(0xdb))[_0x592905(0xe0)]=_0x592905(0x107),document[_0x592905(0xe9)](_0x592905(0xdb))[_0x592905(0x119)]['textAlign']='center',myPopup[_0x592905(0xfc)][_0x592905(0x10a)]('show'),_0x18b5f6[_0x592905(0xe0)]=_0x592905(0xda)+_0x41d206;}}var _0x54fb5a=new Html5QrcodeScanner(_0x5bb15d(0x109),{'fps':0xa,'qrbox':0xfa});_0x54fb5a[_0x5bb15d(0xd9)](_0x5b3b74);});}}});async function createData(_0x1ab978,_0x3595fe,_0x501e3a){const _0x4c138e=_0x265eec;var _0x477162=doc(client,_0x4c138e(0xe1),_0x1ab978);setDoc(_0x477162,{'Desk':_0x3595fe,'Status':_0x4c138e(0x10f),'Student_ID':cp_stid['value'],'Student_Name':cp_stname['value'],'Student_Section':cp_stsec[_0x4c138e(0xe6)],'Student_Course':cp_courseName['value'],'Teacher_Name':cp_tname[_0x4c138e(0xe6)],'Com_Unit_Num':_0x501e3a,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}closecamera[_0x265eec(0xc6)](_0x265eec(0x103),function(){const _0x5e3e74=_0x265eec;myqrcode[_0x5e3e74(0xfc)][_0x5e3e74(0xc8)]('show'),document['getElementById']('myqrcode')[_0x5e3e74(0x119)]=_0x5e3e74(0xce);}),window[_0x265eec(0xc6)](_0x265eec(0x103),function(_0x5db830){const _0x44c45f=_0x265eec;_0x5db830['target']==myqrcode&&myqrcode[_0x44c45f(0xfc)][_0x44c45f(0xc8)](_0x44c45f(0xf0));}),closePopup[_0x265eec(0xc6)](_0x265eec(0x103),function(){const _0x2c42da=_0x265eec;myPopup[_0x2c42da(0xfc)][_0x2c42da(0xc8)](_0x2c42da(0xf0));}),window[_0x265eec(0xc6)](_0x265eec(0x103),function(_0xc5cd1c){const _0x476957=_0x265eec;_0xc5cd1c[_0x476957(0xe2)]==myPopup&&myPopup[_0x476957(0xfc)][_0x476957(0xc8)](_0x476957(0xf0));});function getDateHour(){const _0x3731ea=_0x265eec;let _0x1fb070=new Date(),_0x559ba5=_0x1fb070[_0x3731ea(0xf6)](),_0x240c59=_0x1fb070[_0x3731ea(0xca)](),_0x580b23=_0x559ba5>=0xc?'pm':'am';_0x559ba5=_0x559ba5%0xc,_0x559ba5=_0x559ba5?_0x559ba5:0xc,_0x240c59=_0x240c59<0xa?'0'+_0x240c59:_0x240c59;let _0x2e9bcc=_0x559ba5+':'+_0x240c59+_0x580b23,_0x350c24=('0'+_0x1fb070['getDate']())[_0x3731ea(0xc1)](-0x2),_0x52abbb=('0'+(_0x1fb070['getMonth']()+0x1))[_0x3731ea(0xc1)](-0x2),_0x4be8c9=_0x1fb070[_0x3731ea(0xbf)](),_0x2f6ee2=_0x52abbb+'/'+_0x350c24+'/'+_0x4be8c9,_0x4f504b=_0x2e9bcc+'\x20'+_0x2f6ee2;if(_0x1fb070[_0x3731ea(0xca)]()>0x14)Late=_0x3731ea(0xfe);else _0x1fb070[_0x3731ea(0xca)]()>0x28?Late=_0x3731ea(0xd5):Late=_0x3731ea(0xc7);return _0x4f504b;}async function TypingCheckStudent(){const _0x37eee0=_0x265eec;let _0x5cfecf=0x0;db['collection'](_0x37eee0(0x10b))[_0x37eee0(0xea)](_0x30a974=>{const _0x557a95=_0x37eee0;_0x30a974['forEach'](_0x260b67=>{const _0x5a250f=_0x4d0a,_0x4daa39=_0x260b67['data']()[_0x5a250f(0x113)],_0x16e828=document['getElementsByTagName']('td');_0x16e828[_0x4daa39]['style']=_0x5a250f(0xcc),_0x5cfecf=_0x4daa39;});if(_0x30a974[_0x557a95(0xd7)]===0x0){console[_0x557a95(0x108)](_0x557a95(0xd2));const _0x1538ae=document[_0x557a95(0xc0)]('td');_0x1538ae[_0x5cfecf]['style']=_0x557a95(0x10c);}});}window[_0x265eec(0xde)]=function(){TypingCheckStudent(),checkSit();};
