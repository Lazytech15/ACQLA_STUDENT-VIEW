const _0x5e2b32=_0x4860;(function(_0x16e569,_0x907901){const _0x41553a=_0x4860,_0x2d2aad=_0x16e569();while(!![]){try{const _0xfdd428=-parseInt(_0x41553a(0x13a))/0x1+-parseInt(_0x41553a(0xfa))/0x2+parseInt(_0x41553a(0x134))/0x3+-parseInt(_0x41553a(0x117))/0x4+parseInt(_0x41553a(0x115))/0x5+parseInt(_0x41553a(0x12b))/0x6*(parseInt(_0x41553a(0x118))/0x7)+parseInt(_0x41553a(0xf6))/0x8*(parseInt(_0x41553a(0x12f))/0x9);if(_0xfdd428===_0x907901)break;else _0x2d2aad['push'](_0x2d2aad['shift']());}catch(_0x67cf1a){_0x2d2aad['push'](_0x2d2aad['shift']());}}}(_0x3b81,0xa40ca));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js';const firebaseConfig={'apiKey':_0x5e2b32(0xf5),'authDomain':'cpprog03.firebaseapp.com','projectId':'cpprog03','storageBucket':_0x5e2b32(0x126),'messagingSenderId':_0x5e2b32(0x148),'appId':_0x5e2b32(0x111)};import{getFirestore,doc,getDoc,collection,addDoc,setDoc,updateDoc,deleteDoc,deleteField,onSnapshot}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js';const app=initializeApp(firebaseConfig);firebase['initializeApp'](firebaseConfig);function _0x4860(_0x417a5f,_0x231f58){const _0x3b8101=_0x3b81();return _0x4860=function(_0x486030,_0x1a4310){_0x486030=_0x486030-0xeb;let _0xb54bc3=_0x3b8101[_0x486030];return _0xb54bc3;},_0x4860(_0x417a5f,_0x231f58);}const db=firebase[_0x5e2b32(0x125)](),client=getFirestore();let deskStat=[],studeData,count,Tablecells,Late;const close_form=document[_0x5e2b32(0x106)](_0x5e2b32(0x101)),stid=document[_0x5e2b32(0x106)](_0x5e2b32(0x11c)),stname=document[_0x5e2b32(0x106)](_0x5e2b32(0xed)),stsec=document[_0x5e2b32(0x106)](_0x5e2b32(0xfb)),courseName=document[_0x5e2b32(0x106)]('course-name'),save_btn=document[_0x5e2b32(0x106)](_0x5e2b32(0x12a)),tname=document[_0x5e2b32(0x106)]('teacher-name');function _0x3b81(){const _0x58b779=['onload','1:316552887176:web:2d8b0fc17477132873d83d','classList','remove','getMonth','5683700OcthgB','slice','4323348JhuJvp','45724vUmkTi','form-container','cancel-btn','style','stud-id','display:\x20none','Desk','getFullYear','forEach','Opps!\x20Its\x20look\x20like\x20your\x20too\x20late\x20to\x20take\x20this\x20attendance','background-color:\x20yellow;\x20padding:10px;\x20color:\x20navy;','readyState','Status','firestore','cpprog03.appspot.com','cp-teacher-name','target','getHours','save_btn','684BBJwLf','reload','you-qr-result','background-color:\x20lightgreen;\x20padding:\x2010px;','36wIavgP','</span>','working','Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again','Occupied!\x20<br>\x20BUT\x20LATE!','50712mZaXGT','split','B1-28_DESKTOPPCNUMBER-','openqr_btn','web-form','myqrcode','396442TVDsdG','This\x20Pc\x20is\x20occupied!','Occupied','cp-sect-name','center','SchoolOnTime','display:\x20block;','size','This\x20Computer\x20Unit\x20is\x20Occupied.','onSnapshot','data','cp-course-name','getElementsByTagName','show','316552887176','display:flex;','getDate','collection','background-color:\x20red;\x20padding:10px;','<span\x20class=\x22desk\x22>','DOMContentLoaded','true','stud-name','addEventListener','display:none','log','getMinutes','click','Submit\x20Successfully,\x20please\x20check\x20the\x20monitor\x20in\x20front\x20or\x20ask\x20the\x20teacher\x20if\x20its\x20reflect','innerHTML','AIzaSyCOB2qEHCqj4ogZdjIH4Ff-tl-StyLShOk','1038304vynrft','length','background-color:\x20lightgreen;','cp-stud-id','536438schlvy','sect-name','display:\x20none;','textAlign','push','Someone\x20is\x20already\x20taking\x20this\x20unit','complete','close_form','pop-up-message','COMLAB-ATTENDANCE-TABLE','not\x20Allow','interactive','getElementById','pop-up-top','Your\x20input\x20data\x20is\x20Cancelled','add','false','value','SOME-IS-TYPING','exists','Com_Unit_Num','display:none;'];_0x3b81=function(){return _0x58b779;};return _0x3b81();}async function checkSit(){const _0x572c35=_0x5e2b32;db[_0x572c35(0x14b)](_0x572c35(0x103))[_0x572c35(0x143)](_0x56725c=>{const _0x4096bb=_0x572c35;_0x56725c[_0x4096bb(0x120)](_0x4b1fa2=>{const _0x4e4fc3=_0x4096bb;studeData=_0x4b1fa2[_0x4e4fc3(0x144)]();const _0x5c6c95=_0x4b1fa2['id'];deskStat[_0x4e4fc3(0xfe)]({...studeData,'dataID':_0x5c6c95}),deskStat[_0x4e4fc3(0x120)](_0x36f12c=>{const _0x5623ec=_0x4e4fc3;if(_0x36f12c[_0x5623ec(0x124)]===_0x5623ec(0x13c)&&_0x36f12c[_0x5623ec(0x13f)]===_0x5623ec(0xec)){const _0x6e100f=document['getElementsByTagName']('td');_0x6e100f[_0x36f12c['Desk']][_0x5623ec(0x11b)]=_0x5623ec(0x122),_0x6e100f[_0x36f12c['Desk']][_0x5623ec(0xf4)]=_0x5623ec(0x14d)+_0x36f12c[_0x5623ec(0x10e)]+_0x5623ec(0x130)+_0x5623ec(0x133);}else{if(_0x36f12c[_0x5623ec(0x124)]==='Occupied'&&_0x36f12c[_0x5623ec(0x13f)]===_0x5623ec(0x10a)){const _0x20f772=document[_0x5623ec(0x146)]('td');_0x20f772[_0x36f12c[_0x5623ec(0x11e)]]['style']=_0x5623ec(0x14c),_0x20f772[_0x36f12c[_0x5623ec(0x11e)]][_0x5623ec(0xf4)]=_0x5623ec(0x14d)+_0x36f12c['Com_Unit_Num']+_0x5623ec(0x130)+'Occupied!\x20<br>\x20Ontime';}else{const _0x3eff9c=document[_0x5623ec(0x146)]('td');_0x3eff9c[_0x36f12c['Desk']][_0x5623ec(0x11b)]=_0x5623ec(0xf8);}}});});});}document[_0x5e2b32(0xee)](_0x5e2b32(0xeb),function(){const _0x313222=_0x5e2b32;let _0x2cc264=document[_0x313222(0x146)]('td');for(let _0x982058=0x0;_0x982058<_0x2cc264[_0x313222(0xf7)];_0x982058++){(function(_0x37632b){const _0x1640f1=_0x313222;_0x2cc264[_0x37632b][_0x1640f1(0xee)](_0x1640f1(0xf2),function(){const _0x548857=_0x1640f1;_0x2cc264[_0x37632b][_0x548857(0xf4)]!==''?alert(_0x548857(0x13b)):(getDateHour(),Tablecells=_0x37632b,Takepc(),document[_0x548857(0x106)](_0x548857(0x138))[_0x548857(0x11b)]=_0x548857(0x140));});}(_0x982058));}});let pcnumber=_0x5e2b32(0x136)+Tablecells,ToDeleteDoc;async function Takepc(){const _0x3a7645=_0x5e2b32,_0x3bd84b=Tablecells;pcnumber=_0x3a7645(0x136)+Tablecells,ToDeleteDoc=doc(client,_0x3a7645(0x10c),pcnumber),setDoc(ToDeleteDoc,{'Desk':_0x3bd84b});}async function ToSaveData(){const _0xb1129=_0x5e2b32,_0x4ade6e=Tablecells+0x1;pcnumber=_0xb1129(0x136)+Tablecells,console[_0xb1129(0xf0)](pcnumber);var _0x1fe120=doc(client,_0xb1129(0x103),pcnumber);setDoc(_0x1fe120,{'Desk':Tablecells,'Status':_0xb1129(0x13c),'Student_ID':stid[_0xb1129(0x10b)],'Student_Name':stname[_0xb1129(0x10b)],'Student_Section':stsec['value'],'Student_Course':courseName[_0xb1129(0x10b)],'Teacher_Name':tname[_0xb1129(0x10b)],'Com_Unit_Num':_0x4ade6e,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}close_form[_0x5e2b32(0xee)](_0x5e2b32(0xf2),async function(){const _0x27b4c2=_0x5e2b32;await deleteDoc(ToDeleteDoc),TypingCheckStudent(),setInterval(function(){const _0x4407eb=_0x4860;location[_0x4407eb(0x12c)]();},0x1388),document[_0x27b4c2(0x106)]('web-form')[_0x27b4c2(0x11b)]='display:\x20none;';}),save_btn[_0x5e2b32(0xee)](_0x5e2b32(0xf2),async function(){const _0x202217=_0x5e2b32;getDateHour();if(stid['value']===''||stname['value']===''||courseName[_0x202217(0x10b)]===''||tname[_0x202217(0x10b)]===''||stsec['value']==='')document[_0x202217(0x106)](_0x202217(0x102))['innerHTML']=_0x202217(0x132),document[_0x202217(0x106)](_0x202217(0x102))[_0x202217(0x11b)][_0x202217(0xfd)]=_0x202217(0x13e),myPopup[_0x202217(0x112)]['add'](_0x202217(0x147));else Late===_0x202217(0x104)?(document[_0x202217(0x106)]('pop-up-message')[_0x202217(0xf4)]=_0x202217(0x121),document[_0x202217(0x106)]('pop-up-message')[_0x202217(0x11b)][_0x202217(0xfd)]='center',myPopup[_0x202217(0x112)][_0x202217(0x109)](_0x202217(0x147))):(await deleteDoc(ToDeleteDoc),ToSaveData(),document[_0x202217(0x106)](_0x202217(0x138))[_0x202217(0x11b)]='display:\x20none;',document[_0x202217(0x106)]('pop-up-top')['style']=_0x202217(0xef),document[_0x202217(0x106)](_0x202217(0x102))['innerHTML']=_0x202217(0xf3),document[_0x202217(0x106)](_0x202217(0x102))[_0x202217(0x11b)][_0x202217(0xfd)]=_0x202217(0x13e),myPopup['classList']['add'](_0x202217(0x147)),setInterval(function(){location['reload']();},0x1388));});const cp_stid=document['getElementById'](_0x5e2b32(0xf9)),cp_stname=document[_0x5e2b32(0x106)]('cp-stud-name'),cp_stsec=document[_0x5e2b32(0x106)](_0x5e2b32(0x13d)),cp_courseName=document[_0x5e2b32(0x106)](_0x5e2b32(0x145)),cp_tname=document[_0x5e2b32(0x106)](_0x5e2b32(0x127)),qrbtn=document[_0x5e2b32(0x106)]('qr-btn'),openqr_btn=document[_0x5e2b32(0x106)](_0x5e2b32(0x137)),cancel_btn=document[_0x5e2b32(0x106)](_0x5e2b32(0x11a));let Desk,pcDisplay,qrResults;async function QrCheckPc(){function _0x3ccf26(_0x4671e9){const _0x151ef3=_0x4860;document[_0x151ef3(0x123)]===_0x151ef3(0x100)||document[_0x151ef3(0x123)]===_0x151ef3(0x105)?setTimeout(_0x4671e9,0x1):document['addEventListener'](_0x151ef3(0xeb),_0x4671e9);}_0x3ccf26(function(){const _0x25b227=_0x4860;var _0x34355c=document[_0x25b227(0x106)](_0x25b227(0x12d)),_0x398aca,_0x544424=0x0;async function _0x310a0d(_0x24996f,_0x486844){const _0x399b56=_0x25b227;if(_0x24996f!==_0x398aca){++_0x544424,_0x398aca=_0x24996f,(qrResults=_0x24996f,_0x486844);const _0x9048c5=qrResults[_0x399b56(0x135)](',');qrResults=_0x9048c5[0x1],Desk=_0x9048c5[0x2],pcDisplay=_0x9048c5[0x3];var _0x4d2655=doc(client,_0x399b56(0x10c),qrResults);const _0x463296=await getDoc(_0x4d2655);if(_0x463296['exists']())myqrcode[_0x399b56(0x112)][_0x399b56(0x113)](_0x399b56(0x147)),document[_0x399b56(0x106)](_0x399b56(0x139))[_0x399b56(0x11b)]=_0x399b56(0xfc),document[_0x399b56(0x106)](_0x399b56(0x102))['innerHTML']=_0x399b56(0xff),document['getElementById']('pop-up-message')[_0x399b56(0x11b)]['textAlign']=_0x399b56(0x13e),myPopup[_0x399b56(0x112)][_0x399b56(0x109)](_0x399b56(0x147));else{var _0x4d2655=doc(client,_0x399b56(0x103),qrResults);const _0x239731=await getDoc(_0x4d2655);if(_0x239731[_0x399b56(0x10d)]())myqrcode['classList'][_0x399b56(0x113)](_0x399b56(0x147)),document[_0x399b56(0x106)](_0x399b56(0x139))[_0x399b56(0x11b)]='display:\x20none;',document[_0x399b56(0x106)](_0x399b56(0x102))[_0x399b56(0xf4)]=_0x399b56(0x142),document[_0x399b56(0x106)](_0x399b56(0x102))[_0x399b56(0x11b)][_0x399b56(0xfd)]='center',myPopup[_0x399b56(0x112)][_0x399b56(0x109)](_0x399b56(0x147));else{const _0x56923e=doc(client,_0x399b56(0x10c),qrResults);setDoc(_0x56923e,{'Desk':pcDisplay}),document[_0x399b56(0x106)](_0x399b56(0x119))[_0x399b56(0x11b)]=_0x399b56(0x149),myqrcode[_0x399b56(0x112)][_0x399b56(0x113)]('show'),document[_0x399b56(0x106)]('myqrcode')[_0x399b56(0x11b)]='display:\x20none;',document[_0x399b56(0x106)](_0x399b56(0x137))[_0x399b56(0x11b)]=_0x399b56(0x11d);}}}}var _0x3d8a74=new Html5QrcodeScanner('my-qr-reader',{'fps':0xa,'qrbox':0xfa});_0x3d8a74['render'](_0x310a0d);});}qrbtn[_0x5e2b32(0xee)](_0x5e2b32(0xf2),function(){const _0x556db0=_0x5e2b32;getDateHour();if(cp_stid[_0x556db0(0x10b)]===''||cp_stname[_0x556db0(0x10b)]===''||cp_courseName['value']===''||cp_tname[_0x556db0(0x10b)]===''||cp_stsec['value']==='')document[_0x556db0(0x106)](_0x556db0(0x102))['innerHTML']='Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again',document[_0x556db0(0x106)]('pop-up-message')[_0x556db0(0x11b)][_0x556db0(0xfd)]=_0x556db0(0x13e),myPopup['classList'][_0x556db0(0x109)]('show');else Late===_0x556db0(0x104)?(document['getElementById'](_0x556db0(0x102))[_0x556db0(0xf4)]=_0x556db0(0x121),document[_0x556db0(0x106)]('pop-up-message')[_0x556db0(0x11b)][_0x556db0(0xfd)]=_0x556db0(0x13e),myPopup[_0x556db0(0x112)][_0x556db0(0x109)]('show')):(document[_0x556db0(0x106)](_0x556db0(0x138))[_0x556db0(0x11b)]=_0x556db0(0xfc),document[_0x556db0(0x106)](_0x556db0(0x107))[_0x556db0(0x11b)]=_0x556db0(0xef),document[_0x556db0(0x106)](_0x556db0(0x102))[_0x556db0(0xf4)]=_0x556db0(0xf3),document['getElementById']('pop-up-message')[_0x556db0(0x11b)][_0x556db0(0xfd)]=_0x556db0(0x13e),myPopup[_0x556db0(0x112)][_0x556db0(0x109)](_0x556db0(0x147)),createData(qrResults,Desk,pcDisplay));}),openqr_btn['addEventListener'](_0x5e2b32(0xf2),function(){const _0x336e5c=_0x5e2b32;myqrcode[_0x336e5c(0x112)][_0x336e5c(0x109)](_0x336e5c(0x147)),document[_0x336e5c(0x106)]('myqrcode')[_0x336e5c(0x11b)]=_0x336e5c(0x140),QrCheckPc();}),cancel_btn[_0x5e2b32(0xee)](_0x5e2b32(0xf2),function(){const _0x1a6147=_0x5e2b32,_0x6dd611=doc(client,_0x1a6147(0x10c),qrResults);deleteDoc(_0x6dd611),document[_0x1a6147(0x106)](_0x1a6147(0x102))[_0x1a6147(0xf4)]=_0x1a6147(0x108),document['getElementById'](_0x1a6147(0x102))[_0x1a6147(0x11b)][_0x1a6147(0xfd)]=_0x1a6147(0x13e),myPopup[_0x1a6147(0x112)][_0x1a6147(0x109)]('show'),document[_0x1a6147(0x106)]('form-container')[_0x1a6147(0x11b)]=_0x1a6147(0x10f),cp_stid[_0x1a6147(0x10b)]='',cp_stname['value']='',cp_stsec[_0x1a6147(0x10b)]='',cp_tname[_0x1a6147(0x10b)]='',cp_courseName[_0x1a6147(0x10b)]='';});async function createData(_0x8b7fd1,_0x532dcc,_0x907aa){const _0x4d21b9=_0x5e2b32;var _0xa5da3b=doc(client,_0x4d21b9(0x103),_0x8b7fd1);setDoc(_0xa5da3b,{'Desk':_0x532dcc,'Status':'Occupied','Student_ID':cp_stid['value'],'Student_Name':cp_stname[_0x4d21b9(0x10b)],'Student_Section':cp_stsec[_0x4d21b9(0x10b)],'Student_Course':cp_courseName[_0x4d21b9(0x10b)],'Teacher_Name':cp_tname[_0x4d21b9(0x10b)],'Com_Unit_Num':_0x907aa,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}closecamera[_0x5e2b32(0xee)]('click',function(){const _0x187818=_0x5e2b32;myqrcode[_0x187818(0x112)]['remove'](_0x187818(0x147)),document['getElementById']('myqrcode')[_0x187818(0x11b)]='display:\x20none;';}),window[_0x5e2b32(0xee)]('click',function(_0x1c440b){const _0x583dd4=_0x5e2b32;_0x1c440b[_0x583dd4(0x128)]==myqrcode&&myqrcode['classList']['remove']('show');}),closePopup[_0x5e2b32(0xee)](_0x5e2b32(0xf2),function(){const _0x4ad875=_0x5e2b32;myPopup[_0x4ad875(0x112)][_0x4ad875(0x113)](_0x4ad875(0x147));}),window['addEventListener'](_0x5e2b32(0xf2),function(_0x5801af){const _0x353175=_0x5e2b32;_0x5801af[_0x353175(0x128)]==myPopup&&myPopup['classList'][_0x353175(0x113)](_0x353175(0x147));});function getDateHour(){const _0x37ae0a=_0x5e2b32;let _0x588eda=new Date(),_0x3b2452=_0x588eda[_0x37ae0a(0x129)](),_0x2ea3e2=_0x588eda[_0x37ae0a(0xf1)](),_0x4dec67=_0x3b2452>=0xc?'pm':'am';_0x3b2452=_0x3b2452%0xc,_0x3b2452=_0x3b2452?_0x3b2452:0xc,_0x2ea3e2=_0x2ea3e2<0xa?'0'+_0x2ea3e2:_0x2ea3e2;let _0x21a554=_0x3b2452+':'+_0x2ea3e2+_0x4dec67,_0x2ce766=('0'+_0x588eda[_0x37ae0a(0x14a)]())['slice'](-0x2),_0x422cc8=('0'+(_0x588eda[_0x37ae0a(0x114)]()+0x1))[_0x37ae0a(0x116)](-0x2),_0x440501=_0x588eda[_0x37ae0a(0x11f)](),_0x4f53f0=_0x422cc8+'/'+_0x2ce766+'/'+_0x440501,_0x1c48a1=_0x21a554+'\x20'+_0x4f53f0;if(_0x588eda['getMinutes']()>0x14)Late=_0x37ae0a(0xec);else _0x588eda[_0x37ae0a(0xf1)]()>0x28?Late='not\x20Allow':Late=_0x37ae0a(0x10a);return _0x1c48a1;}async function TypingCheckStudent(){const _0xda70d8=_0x5e2b32;let _0x2af1b3=0x0;db[_0xda70d8(0x14b)](_0xda70d8(0x10c))['onSnapshot'](_0x1f58e1=>{const _0x265c74=_0xda70d8;_0x1f58e1['forEach'](_0x1e9a6c=>{const _0x582dce=_0x4860,_0x43bfe5=_0x1e9a6c['data']()[_0x582dce(0x11e)],_0x254cfd=document['getElementsByTagName']('td');_0x254cfd[_0x43bfe5][_0x582dce(0x11b)]='background-color:\x20purple;\x20padding:\x2010px;\x20',_0x2af1b3=_0x43bfe5;});if(_0x1f58e1[_0x265c74(0x141)]===0x0){console[_0x265c74(0xf0)](_0x265c74(0x131));const _0x4c2d99=document[_0x265c74(0x146)]('td');_0x4c2d99[_0x2af1b3][_0x265c74(0x11b)]=_0x265c74(0x12e);}});}window[_0x5e2b32(0x110)]=function(){TypingCheckStudent(),checkSit();};
