const _0x55fef2=_0x11ef;(function(_0x59c97a,_0x5d09a2){const _0x307113=_0x11ef,_0x46335a=_0x59c97a();while(!![]){try{const _0x11170c=-parseInt(_0x307113(0xbe))/0x1*(parseInt(_0x307113(0x85))/0x2)+parseInt(_0x307113(0xb9))/0x3*(parseInt(_0x307113(0xd6))/0x4)+-parseInt(_0x307113(0x8a))/0x5*(parseInt(_0x307113(0xb2))/0x6)+parseInt(_0x307113(0xbc))/0x7*(-parseInt(_0x307113(0xca))/0x8)+parseInt(_0x307113(0xac))/0x9*(parseInt(_0x307113(0xda))/0xa)+parseInt(_0x307113(0xb6))/0xb*(parseInt(_0x307113(0xb5))/0xc)+parseInt(_0x307113(0x9c))/0xd*(parseInt(_0x307113(0xc1))/0xe);if(_0x11170c===_0x5d09a2)break;else _0x46335a['push'](_0x46335a['shift']());}catch(_0x4a1b2f){_0x46335a['push'](_0x46335a['shift']());}}}(_0x398c,0xd743b));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js';const firebaseConfig={'apiKey':_0x55fef2(0x84),'authDomain':_0x55fef2(0xdd),'projectId':'cpprog03','storageBucket':'cpprog03.appspot.com','messagingSenderId':_0x55fef2(0xd9),'appId':_0x55fef2(0xc9)};import{getFirestore,doc,getDoc,collection,addDoc,setDoc,updateDoc,deleteDoc,deleteField,onSnapshot}from'https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js';const app=initializeApp(firebaseConfig);firebase[_0x55fef2(0xa7)](firebaseConfig);const db=firebase[_0x55fef2(0xc0)](),client=getFirestore();let deskStat=[],studeData,count,Tablecells,Late;const close_form=document[_0x55fef2(0xcf)](_0x55fef2(0xa9)),stid=document[_0x55fef2(0xcf)]('stud-id'),stname=document[_0x55fef2(0xcf)]('stud-name'),stsec=document[_0x55fef2(0xcf)](_0x55fef2(0x8c)),courseName=document[_0x55fef2(0xcf)](_0x55fef2(0x8e)),save_btn=document[_0x55fef2(0xcf)](_0x55fef2(0xd2)),tname=document[_0x55fef2(0xcf)](_0x55fef2(0xb1));async function checkSit(){const _0x2c60db=_0x55fef2;db[_0x2c60db(0xc2)](_0x2c60db(0x9e))['onSnapshot'](_0x9738ea=>{_0x9738ea['forEach'](_0x584223=>{const _0x5daf6a=_0x11ef;studeData=_0x584223['data']();const _0x561415=_0x584223['id'];deskStat[_0x5daf6a(0x99)]({...studeData,'dataID':_0x561415}),deskStat[_0x5daf6a(0xd1)](_0x1efb3b=>{const _0x5e19ee=_0x5daf6a;if(_0x1efb3b[_0x5e19ee(0xa5)]===_0x5e19ee(0xcc)&&_0x1efb3b[_0x5e19ee(0x92)]===_0x5e19ee(0xa1)){const _0xd99ad1=document['getElementsByTagName']('td');_0xd99ad1[_0x1efb3b[_0x5e19ee(0xc7)]]['style']=_0x5e19ee(0xa0),_0xd99ad1[_0x1efb3b['Desk']][_0x5e19ee(0xbd)]='<span\x20class=\x22desk\x22>'+_0x1efb3b[_0x5e19ee(0x93)]+_0x5e19ee(0x9a)+_0x5e19ee(0xb8);}else{if(_0x1efb3b[_0x5e19ee(0xa5)]===_0x5e19ee(0xcc)&&_0x1efb3b[_0x5e19ee(0x92)]==='false'){const _0x3a7055=document['getElementsByTagName']('td');_0x3a7055[_0x1efb3b[_0x5e19ee(0xc7)]][_0x5e19ee(0x81)]='background-color:\x20red;\x20padding:10px;',_0x3a7055[_0x1efb3b['Desk']][_0x5e19ee(0xbd)]='<span\x20class=\x22desk\x22>'+_0x1efb3b[_0x5e19ee(0x93)]+'</span>'+_0x5e19ee(0xaa);}else{const _0x16acf1=document[_0x5e19ee(0xc5)]('td');_0x16acf1[_0x1efb3b[_0x5e19ee(0xc7)]]['style']=_0x5e19ee(0xa2);}}});});});}document[_0x55fef2(0xb3)](_0x55fef2(0xbb),function(){const _0x1ddcaf=_0x55fef2;let _0x16a139=document[_0x1ddcaf(0xc5)]('td');for(let _0x23ed8c=0x0;_0x23ed8c<_0x16a139[_0x1ddcaf(0xd5)];_0x23ed8c++){(function(_0x3ef351){const _0x30befb=_0x1ddcaf;_0x16a139[_0x3ef351][_0x30befb(0xb3)](_0x30befb(0xdc),function(){const _0x47b24d=_0x30befb;_0x16a139[_0x3ef351][_0x47b24d(0xbd)]!==''?alert(_0x47b24d(0xa4)):(getDateHour(),Tablecells=_0x3ef351,Takepc(),document[_0x47b24d(0xcf)](_0x47b24d(0x95))[_0x47b24d(0x81)]='display:\x20block;');});}(_0x23ed8c));}});let pcnumber='B1-28_DESKTOPPCNUMBER-'+Tablecells,ToDeleteDoc;async function Takepc(){const _0x35f230=_0x55fef2,_0xf8f864=Tablecells;pcnumber=_0x35f230(0x89)+Tablecells,ToDeleteDoc=doc(client,_0x35f230(0x91),pcnumber),setDoc(ToDeleteDoc,{'Desk':_0xf8f864});}async function ToSaveData(){const _0x45efe5=_0x55fef2,_0x4d501d=Tablecells+0x1;pcnumber=_0x45efe5(0x89)+Tablecells,console[_0x45efe5(0x83)](pcnumber);var _0x2dd6de=doc(client,'COMLAB-ATTENDANCE-TABLE',pcnumber);setDoc(_0x2dd6de,{'Desk':Tablecells,'Status':_0x45efe5(0xcc),'Student_ID':stid[_0x45efe5(0xc6)],'Student_Name':stname['value'],'Student_Section':stsec[_0x45efe5(0xc6)],'Student_Course':courseName['value'],'Teacher_Name':tname[_0x45efe5(0xc6)],'Com_Unit_Num':_0x4d501d,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}close_form[_0x55fef2(0xb3)](_0x55fef2(0xdc),async function(){const _0x5abd32=_0x55fef2;await deleteDoc(ToDeleteDoc),TypingCheckStudent(),setInterval(function(){location['reload']();},0x1388),document['getElementById'](_0x5abd32(0x95))[_0x5abd32(0x81)]=_0x5abd32(0xb4);}),save_btn['addEventListener']('click',async function(){const _0xcad3cd=_0x55fef2;getDateHour();if(stid[_0xcad3cd(0xc6)]===''||stname['value']===''||courseName[_0xcad3cd(0xc6)]===''||tname[_0xcad3cd(0xc6)]===''||stsec[_0xcad3cd(0xc6)]==='')document['getElementById']('pop-up-message')[_0xcad3cd(0xbd)]='Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again',document[_0xcad3cd(0xcf)]('pop-up-message')[_0xcad3cd(0x81)][_0xcad3cd(0xaf)]=_0xcad3cd(0x86),myPopup[_0xcad3cd(0xc4)][_0xcad3cd(0x9f)]('show');else Late===_0xcad3cd(0x8f)?(document[_0xcad3cd(0xcf)](_0xcad3cd(0xab))[_0xcad3cd(0xbd)]=_0xcad3cd(0xa6),document[_0xcad3cd(0xcf)]('pop-up-message')[_0xcad3cd(0x81)][_0xcad3cd(0xaf)]=_0xcad3cd(0x86),myPopup[_0xcad3cd(0xc4)]['add'](_0xcad3cd(0xae))):(await deleteDoc(ToDeleteDoc),ToSaveData(),document['getElementById'](_0xcad3cd(0x95))[_0xcad3cd(0x81)]=_0xcad3cd(0xb4),document[_0xcad3cd(0xcf)]('pop-up-top')['style']=_0xcad3cd(0xd0),document[_0xcad3cd(0xcf)](_0xcad3cd(0xab))[_0xcad3cd(0xbd)]='Submit\x20Successfully,\x20please\x20check\x20the\x20monitor\x20in\x20front\x20or\x20ask\x20the\x20teacher\x20if\x20its\x20reflect',document['getElementById'](_0xcad3cd(0xab))['style'][_0xcad3cd(0xaf)]=_0xcad3cd(0x86),myPopup[_0xcad3cd(0xc4)][_0xcad3cd(0x9f)](_0xcad3cd(0xae)),setInterval(function(){location['reload']();},0x1388));});function _0x398c(){const _0x504264=['complete','readyState','length','1500GjNQFJ','exists','background-color:\x20lightgreen;\x20padding:\x2010px;','316552887176','40730VuuMOJ','getMinutes','click','cpprog03.firebaseapp.com','style','openqr_btn','log','AIzaSyCOB2qEHCqj4ogZdjIH4Ff-tl-StyLShOk','2PdhelI','center','myqrcode','Submit\x20Successfully,\x20please\x20check\x20the\x20monitor\x20in\x20front\x20or\x20ask\x20the\x20teacher\x20if\x20its\x20reflect','B1-28_DESKTOPPCNUMBER-','4303330mMSKcL','cp-stud-name','sect-name','working','course-name','not\x20Allow','remove','SOME-IS-TYPING','SchoolOnTime','Com_Unit_Num','slice','web-form','display:\x20block;','display:flex;','Please\x20Fill\x20up\x20all\x20requirements\x20and\x20try\x20again','push','</span>','This\x20Computer\x20Unit\x20is\x20Occupied.','108277VeQqNq','you-qr-result','COMLAB-ATTENDANCE-TABLE','add','background-color:\x20yellow;\x20padding:10px;\x20color:\x20navy;','true','background-color:\x20lightgreen;','onSnapshot','This\x20Pc\x20is\x20occupied!','Status','Opps!\x20Its\x20look\x20like\x20your\x20too\x20late\x20to\x20take\x20this\x20attendance','initializeApp','getFullYear','close_form','Occupied!\x20<br>\x20Ontime','pop-up-message','666RAIcyE','cp-course-name','show','textAlign','form-container','teacher-name','6tSVwKr','addEventListener','display:\x20none;','1573344ZqHOtp','66wCzBZV','getDate','Occupied!\x20<br>\x20BUT\x20LATE!','2328XbgxJP','background-color:\x20purple;\x20padding:\x2010px;\x20','DOMContentLoaded','21rNsscI','innerHTML','134515oWdjIK','cp-teacher-name','firestore','2786cuVBaW','collection','cp-sect-name','classList','getElementsByTagName','value','Desk','false','1:316552887176:web:2d8b0fc17477132873d83d','3092376SraTHp','my-qr-reader','Occupied','pop-up-top','cp-stud-id','getElementById','display:none','forEach','save_btn'];_0x398c=function(){return _0x504264;};return _0x398c();}const cp_stid=document[_0x55fef2(0xcf)](_0x55fef2(0xce)),cp_stname=document['getElementById'](_0x55fef2(0x8b)),cp_stsec=document['getElementById'](_0x55fef2(0xc3)),cp_courseName=document[_0x55fef2(0xcf)](_0x55fef2(0xad)),cp_tname=document[_0x55fef2(0xcf)](_0x55fef2(0xbf)),qrbtn=document[_0x55fef2(0xcf)]('qr-btn'),openqr_btn=document[_0x55fef2(0xcf)](_0x55fef2(0x82));let Desk,pcDisplay,qrResults;async function QrCheckPc(){function _0x549499(_0x1636fa){const _0x10f300=_0x11ef;document[_0x10f300(0xd4)]===_0x10f300(0xd3)||document['readyState']==='interactive'?setTimeout(_0x1636fa,0x1):document[_0x10f300(0xb3)](_0x10f300(0xbb),_0x1636fa);}_0x549499(function(){const _0x3598f8=_0x11ef;var _0x146baf=document[_0x3598f8(0xcf)](_0x3598f8(0x9d)),_0x2b95bd,_0x484696=0x0;async function _0x3b6bd9(_0xbd06df,_0x446be3){const _0x19256a=_0x3598f8;if(_0xbd06df!==_0x2b95bd){++_0x484696,_0x2b95bd=_0xbd06df,(qrResults=_0xbd06df,_0x446be3);const _0x5833c4=qrResults['split'](',');qrResults=_0x5833c4[0x1],Desk=_0x5833c4[0x2],pcDisplay=_0x5833c4[0x3];var _0x1254b9=doc(client,_0x19256a(0x9e),qrResults);const _0x5a95cd=await getDoc(_0x1254b9);_0x5a95cd[_0x19256a(0xd7)]()?(myqrcode[_0x19256a(0xc4)][_0x19256a(0x90)](_0x19256a(0xae)),document[_0x19256a(0xcf)](_0x19256a(0x87))[_0x19256a(0x81)]='display:\x20none;',document[_0x19256a(0xcf)](_0x19256a(0xab))[_0x19256a(0xbd)]=_0x19256a(0x9b),document['getElementById']('pop-up-message')[_0x19256a(0x81)]['textAlign']=_0x19256a(0x86),myPopup[_0x19256a(0xc4)][_0x19256a(0x9f)](_0x19256a(0xae))):(document[_0x19256a(0xcf)](_0x19256a(0xb0))[_0x19256a(0x81)]=_0x19256a(0x97),myqrcode['classList'][_0x19256a(0x90)](_0x19256a(0xae)),document[_0x19256a(0xcf)](_0x19256a(0x87))['style']=_0x19256a(0xb4),document['getElementById'](_0x19256a(0x82))[_0x19256a(0x81)]='display:\x20none');}}var _0x20b6d3=new Html5QrcodeScanner(_0x3598f8(0xcb),{'fps':0xa,'qrbox':0xfa});_0x20b6d3['render'](_0x3b6bd9);});}qrbtn[_0x55fef2(0xb3)](_0x55fef2(0xdc),function(){const _0x6f8b5c=_0x55fef2;getDateHour();if(cp_stid['value']===''||cp_stname['value']===''||cp_courseName[_0x6f8b5c(0xc6)]===''||cp_tname[_0x6f8b5c(0xc6)]===''||cp_stsec[_0x6f8b5c(0xc6)]==='')document[_0x6f8b5c(0xcf)](_0x6f8b5c(0xab))[_0x6f8b5c(0xbd)]=_0x6f8b5c(0x98),document[_0x6f8b5c(0xcf)](_0x6f8b5c(0xab))[_0x6f8b5c(0x81)][_0x6f8b5c(0xaf)]=_0x6f8b5c(0x86),myPopup[_0x6f8b5c(0xc4)]['add'](_0x6f8b5c(0xae));else Late===_0x6f8b5c(0x8f)?(document[_0x6f8b5c(0xcf)](_0x6f8b5c(0xab))['innerHTML']='Opps!\x20Its\x20look\x20like\x20your\x20too\x20late\x20to\x20take\x20this\x20attendance',document[_0x6f8b5c(0xcf)](_0x6f8b5c(0xab))['style'][_0x6f8b5c(0xaf)]=_0x6f8b5c(0x86),myPopup[_0x6f8b5c(0xc4)][_0x6f8b5c(0x9f)]('show')):(document[_0x6f8b5c(0xcf)]('web-form')[_0x6f8b5c(0x81)]=_0x6f8b5c(0xb4),document[_0x6f8b5c(0xcf)](_0x6f8b5c(0xcd))[_0x6f8b5c(0x81)]='display:none',document[_0x6f8b5c(0xcf)](_0x6f8b5c(0xab))[_0x6f8b5c(0xbd)]=_0x6f8b5c(0x88),document[_0x6f8b5c(0xcf)](_0x6f8b5c(0xab))[_0x6f8b5c(0x81)][_0x6f8b5c(0xaf)]='center',myPopup[_0x6f8b5c(0xc4)][_0x6f8b5c(0x9f)](_0x6f8b5c(0xae)),createData(qrResults,Desk,pcDisplay));}),openqr_btn['addEventListener'](_0x55fef2(0xdc),function(){const _0x52f0a5=_0x55fef2;myqrcode[_0x52f0a5(0xc4)][_0x52f0a5(0x9f)](_0x52f0a5(0xae)),document[_0x52f0a5(0xcf)]('myqrcode')['style']=_0x52f0a5(0x96),QrCheckPc();});function _0x11ef(_0x35bfb1,_0x28e968){const _0x398c5f=_0x398c();return _0x11ef=function(_0x11ef2a,_0x20effe){_0x11ef2a=_0x11ef2a-0x81;let _0xe662d=_0x398c5f[_0x11ef2a];return _0xe662d;},_0x11ef(_0x35bfb1,_0x28e968);}async function createData(_0x4c0408,_0x412222,_0x52fb5b){const _0x10e761=_0x55fef2;var _0x57a956=doc(client,'COMLAB-ATTENDANCE-TABLE',_0x4c0408);setDoc(_0x57a956,{'Desk':_0x412222,'Status':_0x10e761(0xcc),'Student_ID':cp_stid[_0x10e761(0xc6)],'Student_Name':cp_stname[_0x10e761(0xc6)],'Student_Section':cp_stsec['value'],'Student_Course':cp_courseName[_0x10e761(0xc6)],'Teacher_Name':cp_tname[_0x10e761(0xc6)],'Com_Unit_Num':_0x52fb5b,'SchoolOnTime':Late,'Date_Scan':getDateHour()});}closecamera[_0x55fef2(0xb3)]('click',function(){const _0x5147de=_0x55fef2;myqrcode[_0x5147de(0xc4)][_0x5147de(0x90)](_0x5147de(0xae)),document[_0x5147de(0xcf)](_0x5147de(0x87))[_0x5147de(0x81)]=_0x5147de(0xb4);}),window[_0x55fef2(0xb3)]('click',function(_0xe8ff3b){const _0x3b7278=_0x55fef2;_0xe8ff3b['target']==myqrcode&&myqrcode[_0x3b7278(0xc4)][_0x3b7278(0x90)](_0x3b7278(0xae));}),closePopup[_0x55fef2(0xb3)](_0x55fef2(0xdc),function(){const _0x173e29=_0x55fef2;myPopup[_0x173e29(0xc4)][_0x173e29(0x90)](_0x173e29(0xae));}),window['addEventListener'](_0x55fef2(0xdc),function(_0x39fb50){const _0x2e9445=_0x55fef2;_0x39fb50['target']==myPopup&&myPopup[_0x2e9445(0xc4)][_0x2e9445(0x90)](_0x2e9445(0xae));});function getDateHour(){const _0xbe7a11=_0x55fef2;let _0x3446d6=new Date(),_0x34341b=_0x3446d6['getHours'](),_0x506ac3=_0x3446d6[_0xbe7a11(0xdb)](),_0x359c=_0x34341b>=0xc?'pm':'am';_0x34341b=_0x34341b%0xc,_0x34341b=_0x34341b?_0x34341b:0xc,_0x506ac3=_0x506ac3<0xa?'0'+_0x506ac3:_0x506ac3;let _0x508606=_0x34341b+':'+_0x506ac3+_0x359c,_0x16cf08=('0'+_0x3446d6[_0xbe7a11(0xb7)]())[_0xbe7a11(0x94)](-0x2),_0x4b143a=('0'+(_0x3446d6['getMonth']()+0x1))['slice'](-0x2),_0x471337=_0x3446d6[_0xbe7a11(0xa8)](),_0x579d0a=_0x4b143a+'/'+_0x16cf08+'/'+_0x471337,_0x3f5fab=_0x508606+'\x20'+_0x579d0a;if(_0x3446d6[_0xbe7a11(0xdb)]()>0x14)Late=_0xbe7a11(0xa1);else _0x3446d6['getMinutes']()>0x28?Late=_0xbe7a11(0x8f):Late=_0xbe7a11(0xc8);return _0x3f5fab;}async function TypingCheckStudent(){const _0x2f62d3=_0x55fef2;let _0x386c3f=0x0;db[_0x2f62d3(0xc2)](_0x2f62d3(0x91))[_0x2f62d3(0xa3)](_0x3b594d=>{const _0x167159=_0x2f62d3;_0x3b594d['forEach'](_0x565237=>{const _0x83e6d5=_0x11ef,_0x52ec6c=_0x565237['data']()[_0x83e6d5(0xc7)],_0x29c775=document[_0x83e6d5(0xc5)]('td');_0x29c775[_0x52ec6c][_0x83e6d5(0x81)]=_0x83e6d5(0xba),_0x386c3f=_0x52ec6c;});if(_0x3b594d['size']===0x0){console['log'](_0x167159(0x8d));const _0x1ec4f4=document[_0x167159(0xc5)]('td');_0x1ec4f4[_0x386c3f][_0x167159(0x81)]=_0x167159(0xd8);}});}window['onload']=function(){TypingCheckStudent(),checkSit();};
